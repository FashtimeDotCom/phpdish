webpackJsonp([4],{0:function(e,t){e.exports=window.$},13:function(e,t){},2:function(e,t){e.exports=window._},20:function(e,t,i){(function(t){!function(n){"function"==typeof window.define?window.define.amd?window.define("wangEditor",["jquery"],n):window.define.cmd?window.define(function(e,t,i){return n}):n(t):"object"==typeof e&&"object"==typeof e.exports?(i(13),e.exports=n(i(0))):n(t)}(function(e){if(!e||!e.fn||!e.fn.jquery)return void alert("在引用wangEditor.js之前，先引用jQuery，否则无法使用 wangEditor");var t=function(t){var i=window.wangEditor;i&&t(i,e)};return function(e,t){if(e.wangEditor)return void alert("一个页面不能重复引用 wangEditor.js 或 wangEditor.min.js ！！！");var i=function(e){"string"==typeof e&&(e="#"+e);var i=t(e);if(1===i.length){var n=i[0].nodeName;"TEXTAREA"!==n&&"DIV"!==n||(this.valueNodeName=n.toLowerCase(),this.$valueContainer=i,this.$prev=i.prev(),this.$parent=i.parent(),this.init())}};i.fn=i.prototype,i.$body=t("body"),i.$document=t(document),i.$window=t(e),i.userAgent=navigator.userAgent,i.getComputedStyle=e.getComputedStyle,i.w3cRange="function"==typeof document.createRange,i.hostname=location.hostname.toLowerCase(),i.websiteHost="wangeditor.github.io|www.wangeditor.com|wangeditor.coding.me",i.isOnWebsite=i.websiteHost.indexOf(i.hostname)>=0,i.docsite="http://www.kancloud.cn/wangfupeng/wangeditor2/113961",e.wangEditor=i,i.plugin=function(e){i._plugins||(i._plugins=[]),"function"==typeof e&&i._plugins.push(e)}}(window,e),t(function(e,t){e.fn.init=function(){this.initDefaultConfig(),this.addEditorContainer(),this.addTxt(),this.addMenuContainer(),this.menus={},this.commandHooks()}}),t(function(e,t){e.fn.ready=function(e){this.readyFns||(this.readyFns=[]),this.readyFns.push(e)},e.fn.readyHeadler=function(){for(var e=this.readyFns;e.length;)e.shift().call(this)},e.fn.updateValue=function(){var e=this,t=e.$valueContainer,i=e.txt.$txt;if(t!==i){var n=i.html();t.val(n)}},e.fn.getInitValue=function(){var e=this,t=e.$valueContainer,i="",n=e.valueNodeName;return"div"===n?i=t.html():"textarea"===n&&(i=t.val()),i},e.fn.updateMenuStyle=function(){var e=this.menus;t.each(e,function(e,t){t.updateSelected()})},e.fn.enableMenusExcept=function(e){this._disabled||(e=e||[],"string"==typeof e&&(e=[e]),t.each(this.menus,function(t,i){e.indexOf(t)>=0||i.disabled(!1)}))},e.fn.disableMenusExcept=function(e){this._disabled||(e=e||[],"string"==typeof e&&(e=[e]),t.each(this.menus,function(t,i){e.indexOf(t)>=0||i.disabled(!0)}))},e.fn.hideDropPanelAndModal=function(){var e=this.menus;t.each(e,function(e,t){var i=t.dropPanel||t.dropList||t.modal;i&&i.hide&&i.hide()})}}),t(function(e,t){function i(){}var n=!e.w3cRange;e.fn.currentRange=function(e){if(!e)return this._rangeData;this._rangeData=e},e.fn.collapseRange=function(e,t){t=t||"end",t="start"===t,(e=e||this.currentRange())&&(e.collapse(t),this.currentRange(e))},e.fn.getRangeText=n?i:function(e){if(e=e||this.currentRange())return e.toString()},e.fn.getRangeElem=n?i:function(e){e=e||this.currentRange();var t=e.commonAncestorContainer;return 1===t.nodeType?t:t.parentNode},e.fn.isRangeEmpty=n?i:function(e){return!(!(e=e||this.currentRange())||!e.startContainer||e.startContainer!==e.endContainer||e.startOffset!==e.endOffset)},e.fn.saveSelection=n?i:function(e){var i,n,o=this,a=o.txt.$txt.get(0);e?i=e.commonAncestorContainer:(n=document.getSelection(),n.getRangeAt&&n.rangeCount&&(e=document.getSelection().getRangeAt(0),i=e.commonAncestorContainer)),i&&(t.contains(a,i)||a===i)&&o.currentRange(e)},e.fn.restoreSelection=n?i:function(t){var i;if(t=t||this.currentRange())try{i=document.getSelection(),i.removeAllRanges(),i.addRange(t)}catch(t){e.error("执行 editor.restoreSelection 时，IE可能会有异常，不影响使用")}},e.fn.restoreSelectionByElem=n?i:function(e,t){e&&(t=t||"end",this.setRangeByElem(e),"start"===t&&this.collapseRange(this.currentRange(),"start"),"end"===t&&this.collapseRange(this.currentRange(),"end"),this.restoreSelection())},e.fn.initSelection=n?i:function(){var e=this;if(!e.currentRange()){var t=e.txt.$txt,i=t.children().first();i.length&&e.restoreSelectionByElem(i.get(0))}},e.fn.setRangeByElem=n?i:function(e){var i=this,n=i.txt.$txt.get(0);if(e&&t.contains(n,e)){for(var o=e.firstChild;o&&3!==o.nodeType;)o=o.firstChild;for(var a=e.lastChild;a&&3!==a.nodeType;)a=a.lastChild;var c=document.createRange();o&&a?(c.setStart(o,0),c.setEnd(a,a.textContent.length)):(c.setStart(e,0),c.setEnd(e,0)),i.saveSelection(c)}}}),t(function(e,t){e.w3cRange||(e.fn.getRangeText=function(e){if(e=e||this.currentRange())return e.text},e.fn.getRangeElem=function(e){if(e=e||this.currentRange()){var t=e.parentElement();return 1===t.nodeType?t:t.parentNode}},e.fn.isRangeEmpty=function(e){return!(e=e||this.currentRange())||!e.text},e.fn.saveSelection=function(e){var i,n=this,o=n.txt.$txt.get(0);e?i=e.parentElement():(e=document.selection.createRange(),i=void 0===e.parentElement?null:e.parentElement()),i&&(t.contains(o,i)||o===i)&&n.currentRange(e)},e.fn.restoreSelection=function(e){var t,i=this;if(e=e||i.currentRange()){t=document.selection.createRange();try{t.setEndPoint("EndToEnd",e)}catch(e){}if(0===e.text.length)try{t.collapse(!1)}catch(e){}else t.setEndPoint("StartToStart",e);t.select()}})}),t(function(e,t){e.fn.commandHooks=function(){var e=this,i={};i.insertHtml=function(i){var n,o=t(i),a=e.getRangeElem();(n=e.getLegalTags(a))&&t(n).after(o)},e.commandHooks=i}}),t(function(e,t){e.fn.command=function(e,t,i,n){function o(){t&&(c.queryCommandSupported(t)?document.execCommand(t,!1,i):(a=c.commandHooks,t in a&&a[t](i)))}var a,c=this;this.customCommand(e,o,n)},e.fn.commandForElem=function(e,t,i,n,o){var a,c;"string"==typeof e?a=e:(a=e.selector,c=e.check);var r=this.getRangeElem();r=this.getSelfOrParentByName(r,a,c),r&&this.setRangeByElem(r),this.command(t,i,n,o)},e.fn.customCommand=function(e,t,i){function n(){o.hideDropPanelAndModal()}var o=this,a=o.currentRange();if(!a)return void(e&&e.preventDefault());o.undoRecord(),this.restoreSelection(a),t.call(o),this.saveSelection(),this.restoreSelection(),i&&"function"==typeof i&&i.call(o),o.txt.insertEmptyP(),o.txt.wrapImgAndText(),o.updateValue(),o.updateMenuStyle(),setTimeout(n,200),e&&e.preventDefault()},e.fn.queryCommandValue=function(e){var t="";try{t=document.queryCommandValue(e)}catch(e){}return t},e.fn.queryCommandState=function(e){var t=!1;try{t=document.queryCommandState(e)}catch(e){}return t},e.fn.queryCommandSupported=function(e){var t=!1;try{t=document.queryCommandSupported(e)}catch(e){}return t}}),t(function(e,t){function i(e){var i=this,n=t(e),o=!1;return n.each(function(){if(this===i)return o=!0,!1}),o}var n;e.fn.getLegalTags=function(t){var i=this.config.legalTags;return i?this.getSelfOrParentByName(t,i):void e.error("配置项中缺少 legalTags 的配置")},e.fn.getSelfOrParentByName=function(e,o,a){if(e&&o){n||(n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector),n||(n=i);for(var c=this.txt.$txt.get(0);e&&c!==e&&t.contains(c,e);){if(n.call(e,o)){if(!a)return e;if(a(e))return e}e=e.parentNode}}}}),t(function(e,t){function i(e){return null==e._redoList&&(e._redoList=[]),e._redoList}function n(e){return null==e._undoList&&(e._undoList=[]),e._undoList}function o(e,t,i){var n=t.val,o=e.txt.$txt.html();if(null!=n){if(n===o)return"redo"===i?void e.redo():"undo"===i?void e.undo():void 0;e.txt.$txt.html(n),e.updateValue(),e.onchange&&"function"==typeof e.onchange&&e.onchange.call(e)}}e.fn.undoRecord=function(){var e=this,t=e.txt.$txt,o=t.html(),a=n(e),c=i(e);o!==(a.length?a[0]:"").val&&(c.length&&(c=[]),a.unshift({range:e.currentRange(),val:o}),a.length>20&&a.pop())},e.fn.undo=function(){var e=this,t=n(e),a=i(e);if(t.length){var c=t.shift();a.unshift(c),o(this,c,"undo")}},e.fn.redo=function(){var e=this,t=n(e),a=i(e);if(a.length){var c=a.shift();t.unshift(c),o(this,c,"redo")}}}),t(function(e,t){e.fn.create=function(){var i=this;e.$body&&0!==e.$body.length||(e.$body=t("body"),e.$document=t(document),e.$window=t(window)),i.addMenus(),i.renderMenus(),i.renderMenuContainer(),i.renderTxt(),i.renderEditorContainer(),i.eventMenus(),i.eventMenuContainer(),i.eventTxt(),i.readyHeadler(),i.initSelection(),i.$txt=i.txt.$txt;var n=e._plugins;n&&n.length&&t.each(n,function(e,t){t.call(i)})},e.fn.disable=function(){this.txt.$txt.removeAttr("contenteditable"),this.disableMenusExcept(),this._disabled=!0},e.fn.enable=function(){this._disabled=!1,this.txt.$txt.attr("contenteditable","true"),this.enableMenusExcept()},e.fn.destroy=function(){var e=this,t=e.$valueContainer,i=e.$editorContainer;"div"===e.valueNodeName?(t.removeAttr("contenteditable"),i.after(t),i.hide()):(t.show(),i.hide())},e.fn.undestroy=function(){var e=this,t=e.$valueContainer,i=e.$editorContainer,n=e.menuContainer.$menuContainer;"div"===e.valueNodeName?(t.attr("contenteditable","true"),n.after(t),i.show()):(t.hide(),i.show())},e.fn.clear=function(){var e=this,t=e.txt.$txt;t.html("<p><br></p>"),e.restoreSelectionByElem(t.find("p").get(0))}}),t(function(e,t){var i=function(e){this.editor=e,this.init()};i.fn=i.prototype,e.MenuContainer=i}),t(function(e,t){var i=e.MenuContainer;i.fn.init=function(){var e=this,i=t('<div class="wangEditor-menu-container clearfix"></div>');e.$menuContainer=i,e.changeShadow()},i.fn.changeShadow=function(){var e=this.$menuContainer,t=this.editor,i=t.txt.$txt;i.on("scroll",function(){i.scrollTop()>10?e.addClass("wangEditor-menu-shadow"):e.removeClass("wangEditor-menu-shadow")})}}),t(function(e,t){var i=e.MenuContainer;i.fn.render=function(){var e=this.$menuContainer;this.editor.$editorContainer.append(e)},i.fn.height=function(){return this.$menuContainer.height()},i.fn.appendMenu=function(e,t){return this._addGroup(e),this._addOneMenu(t)},i.fn._addGroup=function(e){var i,n=this.$menuContainer;this.$currentGroup&&this.currentGroupIdx===e||(i=t('<div class="menu-group clearfix"></div>'),n.append(i),this.$currentGroup=i,this.currentGroupIdx=e)},i.fn._addOneMenu=function(e){var i=e.$domNormal,n=e.$domSelected,o=this.$currentGroup,a=t('<div class="menu-item clearfix"></div>');return n.hide(),a.append(i).append(n),o.append(a),a}}),t(function(e,t){var i=function(e){this.editor=e.editor,this.id=e.id,this.title=e.title,this.$domNormal=e.$domNormal,this.$domSelected=e.$domSelected||e.$domNormal,this.commandName=e.commandName,this.commandValue=e.commandValue,this.commandNameSelected=e.commandNameSelected||e.commandName,this.commandValueSelected=e.commandValueSelected||e.commandValue};i.fn=i.prototype,e.Menu=i}),t(function(e,t){e.Menu.fn.initUI=function(){var i=this.editor,n=i.UI.menus,o=this.id,a=n[o];this.$domNormal&&this.$domSelected||(null==a&&(e.warn('editor.UI配置中，没有菜单 "'+o+'" 的UI配置，只能取默认值'),a=n.default),this.$domNormal=t(a.normal),/^\./.test(a.selected)?this.$domSelected=this.$domNormal.clone().addClass(a.selected.slice(1)):this.$domSelected=t(a.selected))}}),t(function(e,t){var i=e.Menu;i.fn.render=function(e){this.initUI();var t=this.editor,i=t.menuContainer,n=i.appendMenu(e,this),o=this.onRender;this._renderTip(n),o&&"function"==typeof o&&o.call(this)},i.fn._renderTip=function(i){function n(){u.show()}function o(){u.hide()}var a,c=this,r=c.editor,l=c.title,u=t('<div class="menu-tip"></div>');c.tipWidth||(a=t('<p style="opacity:0; filter:Alpha(opacity=0); position:absolute;top:-10000px;">'+l+"</p>"),e.$body.append(a),r.ready(function(){var e=a.outerWidth()+5,t=u.outerWidth(),i=parseFloat(u.css("margin-left"),10);a.remove(),a=null,u.css({width:e,"margin-left":i+(t-e)/2}),c.tipWidth=e})),u.append(l),i.append(u);var d;i.find("a").on("mouseenter",function(e){c.active()||c.disabled()||(d=setTimeout(n,200))}).on("mouseleave",function(e){d&&clearTimeout(d),o()}).on("click",o)},i.fn.bindEvent=function(){var t=this,i=t.$domNormal,n=t.$domSelected,o=t.clickEvent;o||(o=function(i){var n=t.dropPanel||t.dropList||t.modal;if(n&&n.show)return void(n.isShowing?n.hide():n.show());var o,a,c=t.editor;t.selected?(o=t.commandNameSelected,a=t.commandValueSelected):(o=t.commandName,a=t.commandValue),o?c.command(i,o,a):(e.warn('菜单 "'+t.id+'" 未定义click事件'),i.preventDefault())});var a=t.clickEventSelected||o;i.click(function(e){t.disabled()||(o.call(t,e),t.updateSelected()),e.preventDefault()}),n.click(function(e){t.disabled()||(a.call(t,e),t.updateSelected()),e.preventDefault()})},i.fn.updateSelected=function(){var e=this,t=(e.editor,e.updateSelectedEvent);t||(t=function(){var e=this,t=e.editor,i=e.commandName,n=e.commandValue;if(n){if(t.queryCommandValue(i).toLowerCase()===n.toLowerCase())return!0}else if(t.queryCommandState(i))return!0;return!1});var i=t.call(e);i=!!i,e.changeSelectedState(i)},i.fn.changeSelectedState=function(e){var t=this,i=t.selected;if(null!=e&&"boolean"==typeof e){if(i===e)return;t.selected=e,e?(t.$domNormal.hide(),t.$domSelected.show()):(t.$domNormal.show(),t.$domSelected.hide())}},i.fn.active=function(e){if(null==e)return this._activeState;this._activeState=e},i.fn.activeStyle=function(e){var t=(this.selected,this.$domNormal),i=this.$domSelected;e?(t.addClass("active"),i.addClass("active")):(t.removeClass("active"),i.removeClass("active")),this.active(e)},i.fn.disabled=function(e){if(null==e)return!!this._disabled;if(this._disabled!==e){var t=this.$domNormal,i=this.$domSelected;e?(t.addClass("disable"),i.addClass("disable")):(t.removeClass("disable"),i.removeClass("disable")),this._disabled=e}}}),t(function(e,t){var i=function(e,t,i){this.editor=e,this.menu=t,this.data=i.data,this.tpl=i.tpl,this.selectorForELemCommand=i.selectorForELemCommand,this.beforeEvent=i.beforeEvent,this.afterEvent=i.afterEvent,this.init()};i.fn=i.prototype,e.DropList=i}),t(function(e,t){var i=e.DropList;i.fn.init=function(){var e=this;e.initDOM(),e.bindEvent(),e.initHideEvent()},i.fn.initDOM=function(){var e,i,n=this,o=n.data,a=n.tpl||"<span>{#title}</span>",c=t('<div class="wangEditor-drop-list clearfix"></div>');t.each(o,function(n,o){e=a.replace(/{#commandValue}/gi,n).replace(/{#title}/gi,o),i=t('<a href="#" commandValue="'+n+'"></a>'),i.append(e),c.append(i)}),n.$list=c},i.fn.bindEvent=function(){var e=this,i=e.editor,n=e.menu,o=n.commandName,a=e.selectorForELemCommand,c=e.$list,r=e.beforeEvent,l=e.afterEvent;c.on("click","a[commandValue]",function(e){r&&"function"==typeof r&&r.call(e);var c=t(e.currentTarget).attr("commandValue");n.selected&&i.isRangeEmpty()&&a?i.commandForElem(a,e,o,c):i.command(e,o,c),l&&"function"==typeof l&&l.call(e)})},i.fn.initHideEvent=function(){var i=this,n=i.$list.get(0);e.$body.on("click",function(e){if(i.isShowing){var o,a=e.target,c=i.menu;o=c.selected?c.$domSelected.get(0):c.$domNormal.get(0),o===a||t.contains(o,a)||n===a||t.contains(n,a)||i.hide()}}),e.$window.scroll(function(){i.hide()}),e.$window.on("resize",function(){i.hide()})}}),t(function(e,t){var i=e.DropList;i.fn._render=function(){var e=this,t=e.editor,i=e.$list;t.$editorContainer.append(i),e.rendered=!0},i.fn._position=function(){var e=this,t=e.$list,i=e.editor,n=e.menu,o=i.menuContainer.$menuContainer,a=n.selected?n.$domSelected:n.$domNormal,c=a.offsetParent().position(),r=c.top,l=c.left,u=a.offsetParent().height(),d=a.offsetParent().width(),m=t.outerWidth(),s=i.txt.$txt.outerWidth(),f=r+u,g=l+d/2,h=0-d/2,p=g+m-s;p>-10&&(h=h-p-10),t.css({top:f,left:g,"margin-left":h}),i._isMenufixed&&(f+=o.offset().top+o.outerHeight()-t.offset().top,t.css({top:f}))},i.fn.show=function(){var e=this,t=e.menu;if(e.rendered||e._render(),!e.isShowing){e.$list.show(),e._position(),e.isShowing=!0,t.activeStyle(!0)}},i.fn.hide=function(){var e=this,t=e.menu;if(e.isShowing){e.$list.hide(),e.isShowing=!1,t.activeStyle(!1)}}}),t(function(e,t){var i=function(e,t,i){this.editor=e,this.menu=t,this.$content=i.$content,this.width=i.width||200,this.height=i.height,this.onRender=i.onRender,this.init()};i.fn=i.prototype,e.DropPanel=i}),t(function(e,t){var i=e.DropPanel;i.fn.init=function(){var e=this;e.initDOM(),e.initHideEvent()},i.fn.initDOM=function(){var e=this,i=e.$content,n=e.width,o=e.height,a=t('<div class="wangEditor-drop-panel clearfix"></div>'),c=t('<div class="tip-triangle"></div>');a.css({width:n,height:o||"auto"}),a.append(c),a.append(i),e.$panel=a,e.$triangle=c},i.fn.initHideEvent=function(){var i=this,n=i.$panel.get(0);e.$body.on("click",function(e){if(i.isShowing){var o,a=e.target,c=i.menu;o=c.selected?c.$domSelected.get(0):c.$domNormal.get(0),o===a||t.contains(o,a)||n===a||t.contains(n,a)||i.hide()}}),e.$window.scroll(function(e){i.hide()}),e.$window.on("resize",function(){i.hide()})}}),t(function(e,t){var i=e.DropPanel;i.fn._render=function(){var e=this,t=e.onRender,i=e.editor,n=e.$panel;i.$editorContainer.append(n),t&&t.call(e),e.rendered=!0},i.fn._position=function(){var e=this,t=e.$panel,i=e.$triangle,n=e.editor,o=n.menuContainer.$menuContainer,a=e.menu,c=a.selected?a.$domSelected:a.$domNormal,r=c.offsetParent().position(),l=r.top,u=r.left,d=c.offsetParent().height(),m=c.offsetParent().width(),s=t.outerWidth(),f=n.txt.$txt.outerWidth(),g=l+d,h=u+m/2,p=0-s/2,v=p;0-p>h-10&&(p=0-(h-10));var b=h+s+p-f;b>-10&&(p=p-b-10),t.css({top:g,left:h,"margin-left":p}),n._isMenufixed&&(g+=o.offset().top+o.outerHeight()-t.offset().top,t.css({top:g})),i.css({"margin-left":v-p-5})},i.fn.focusFirstInput=function(){this.$panel.find("input[type=text],textarea").each(function(){var e=t(this);if(null==e.attr("disabled"))return e.focus(),!1})},i.fn.show=function(){var t=this,i=t.menu;if(t.rendered||t._render(),!t.isShowing){var n=t.$panel;n.show(),t._position(),t.isShowing=!0,i.activeStyle(!0),e.w3cRange?t.focusFirstInput():e.placeholderForIE8(n)}},i.fn.hide=function(){var e=this,t=e.menu;if(e.isShowing){e.$panel.hide(),e.isShowing=!1,t.activeStyle(!1)}}}),t(function(e,t){var i=function(e,t,i){this.editor=e,this.menu=t,this.$content=i.$content,this.init()};i.fn=i.prototype,e.Modal=i}),t(function(e,t){var i=e.Modal;i.fn.init=function(){var e=this;e.initDom(),e.initHideEvent()},i.fn.initDom=function(){var e=this,i=e.$content,n=t('<div class="wangEditor-modal"></div>'),o=t('<div class="wangEditor-modal-close"><i class="wangeditor-menu-img-cancel-circle"></i></div>');n.append(o),n.append(i),e.$modal=n,e.$close=o},i.fn.initHideEvent=function(){var i=this,n=i.$close,o=i.$modal.get(0);n.click(function(){i.hide()}),e.$body.on("click",function(e){if(i.isShowing){var n,a=e.target,c=i.menu;c&&((n=c.selected?c.$domSelected.get(0):c.$domNormal.get(0))===a||t.contains(n,a))||o===a||t.contains(o,a)||i.hide()}})}}),t(function(e,t){var i=e.Modal;i.fn._render=function(){var t=this,i=t.editor,n=t.$modal;n.css("z-index",i.config.zindex+10+""),e.$body.append(n),t.rendered=!0},i.fn._position=function(){var t=this,i=t.$modal,n=i.offset().top,o=i.outerWidth(),a=i.outerHeight(),c=0-o/2,r=0-a/2,l=e.$window.scrollTop();a/2>n&&(r=0-n),i.css({"margin-left":c+"px","margin-top":r+l+"px"})},i.fn.show=function(){var e=this,t=e.menu;if(e.rendered||e._render(),!e.isShowing){e.isShowing=!0;e.$modal.show(),e._position(),t&&t.activeStyle(!0)}},i.fn.hide=function(){var e=this,t=e.menu;if(e.isShowing){e.isShowing=!1;e.$modal.hide(),t&&t.activeStyle(!1)}}}),t(function(e,t){var i=function(e){this.editor=e,this.init()};i.fn=i.prototype,e.Txt=i}),t(function(e,t){var i=e.Txt;i.fn.init=function(){var e,i=this,n=i.editor,o=n.$valueContainer,a=n.getInitValue();"DIV"===o.get(0).nodeName?(e=o,e.addClass("wangEditor-txt"),e.attr("contentEditable","true")):e=t('<div class="wangEditor-txt" contentEditable="true">'+a+"</div>"),n.ready(function(){i.insertEmptyP()}),i.$txt=e,i.contentEmptyHandle(),i.bindEnterForDiv(),i.bindEnterForText(),i.bindTabEvent(),i.bindPasteFilter(),i.bindFormatText(),i.bindHtml()},i.fn.contentEmptyHandle=function(){var e,i=this,n=i.editor,o=i.$txt;o.on("keydown",function(e){if(8===e.keyCode){return"<p><br></p>"===t.trim(o.html().toLowerCase())?void e.preventDefault():void 0}}),o.on("keyup",function(i){if(8===i.keyCode){var a=t.trim(o.html().toLowerCase());a&&"<br>"!==a||(e=t("<p><br/></p>"),o.html(""),o.append(e),n.restoreSelectionByElem(e.get(0)))}})},i.fn.bindEnterForDiv=function(){function i(){if(n){var e=t("<p>"+n.html()+"</p>");n.after(e),n.remove()}}var n,o=(e.config.legalTags,this),a=o.editor,c=o.$txt;c.on("keydown keyup",function(e){if(13===e.keyCode){var o,c,r=a.getRangeElem(),l=a.getLegalTags(r);if(!l){if(!(l=a.getSelfOrParentByName(r,"div")))return;o=t(l),"keydown"===e.type&&(n=o,setTimeout(i,0)),"keyup"===e.type&&(c=t("<p>"+o.html()+"</p>"),o.after(c),o.remove(),a.restoreSelectionByElem(c.get(0),"start"))}}})},i.fn.bindEnterForText=function(){var e,t=this,i=t.$txt;i.on("keyup",function(i){13===i.keyCode&&(e||(e=function(){t.wrapImgAndText()}),setTimeout(e))})},i.fn.bindTabEvent=function(){var e=this,t=e.editor;e.$txt.on("keydown",function(e){9===e.keyCode&&t.queryCommandSupported("insertHtml")&&t.command(e,"insertHtml","&nbsp;&nbsp;&nbsp;&nbsp;")})},i.fn.bindPasteFilter=function(){function e(o){if(o&&o.nodeType&&o.nodeName){var a,r,l=o.nodeName.toLowerCase(),d=o.nodeType;if(3===d||1===d){if(a=t(o),"div"===l)return r=[],t.each(o.childNodes,function(e,t){r.push(t)}),void t.each(r,function(){e(this)});if(u.indexOf(l)>=0)c+=i(o);else if(3===d)c+="<p>"+o.textContent+"</p>";else if("br"===l)c+="<br/>";else{if(["meta","style","script","object","form","iframe","hr"].indexOf(l)>=0)return;a=t(n(o)),c+=t("<div>").append(a.clone()).html()}}}}function i(e){var i,o=e.nodeName.toLowerCase(),a="",c="";return["blockquote"].indexOf(o)>=0?(i=t(e),"<"+o+">"+i.text()+"</"+o+">"):["p","h1","h2","h3","h4","h5"].indexOf(o)>=0?(e=n(e),i=t(e),a=i.html(),a=a.replace(/<.*?>/gi,function(e){return"</a>"===e||0===e.indexOf("<a ")||0===e.indexOf("<img ")?e:""}),"<"+o+">"+a+"</"+o+">"):["ul","ol"].indexOf(o)>=0?(i=t(e),i.children().each(function(){var e=t(n(this)),i=e.html();i=i.replace(/<.*?>/gi,function(e){return"</a>"===e||0===e.indexOf("<a ")||0===e.indexOf("<img ")?e:""}),c+="<li>"+i+"</li>"}),"<"+o+">"+c+"</"+o+">"):(i=t(n(e)),t("<div>").append(i).html())}function n(e){var i=e.attributes||[],o=[],a=["href","target","src","alt","rowspan","colspan"];t.each(i,function(e,t){t&&2===t.nodeType&&o.push(t.nodeName)}),t.each(o,function(t,i){a.indexOf(i)<0&&e.removeAttribute(i)});var c=e.childNodes;return c.length&&t.each(c,function(e,t){n(t)}),e}var o=this,a=o.editor,c="",r=o.$txt,l=a.config.legalTags,u=l.split(",");r.on("paste",function(i){if(a.config.pasteFilter){var n=a.getRangeElem().nodeName;if("TD"!==n&&"TH"!==n){c="";var r,l,u,d=i.clipboardData||i.originalEvent.clipboardData,m=window.clipboardData;if(a.config.pasteText){if(d&&d.getData)r=d.getData("text/plain");else{if(!m||!m.getData)return;r=m.getData("text")}r&&(c="<p>"+r+"</p>")}else if(d&&d.getData)r=d.getData("text/html"),u=r.split("</html>"),2===u.length&&(r=u[0]),r?(l=t("<div>"+r+"</div>"),e(l.get(0))):(r=d.getData("text/plain"))&&(r=r.replace(/[ ]/g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>"),c="<p>"+r+"</p>",c=c.replace(/<p>(https?:\/\/.*?)<\/p>/gi,function(e,t){return'<p><a href="'+t+'" target="_blank">'+t+"</p>"}));else{if(!m||!m.getData)return;if(!(c=m.getData("text")))return;c="<p>"+c+"</p>",c=c.replace(new RegExp("\n","g"),"</p><p>")}c&&(a.command(i,"insertHtml",c),o.clearEmptyOrNestP())}}})},i.fn.bindFormatText=function(){var i=this,n=(i.editor,i.$txt),o=e.config.legalTags,a=o.split(","),c=(a.length,[]);t.each(a,function(e,t){var i=">\\s*<("+t+")>";c.push(new RegExp(i,"ig"))}),c.push(new RegExp(">\\s*<(li)>","ig")),c.push(new RegExp(">\\s*<(tr)>","ig")),c.push(new RegExp(">\\s*<(code)>","ig")),n.formatText=function(){var e=t("<div>"),i=n.html();return i=i.replace(/\s*</gi,"<"),t.each(c,function(e,t){t.test(i)&&(i=i.replace(t,function(e,t){return">\n<"+t+">"}))}),e.html(i),e.text()}},i.fn.bindHtml=function(){var e=this,i=e.editor,n=e.$txt,o=i.$valueContainer,a=i.valueNodeName;n.html=function(e){var i;if("div"===a&&(i=t.fn.html.call(n,e)),void 0===e?(i=t.fn.html.call(n),i=i.replace(/(href|src)\=\"(.*)\"/gim,function(e,t,i){return t+'="'+i.replace("&amp;","&")+'"'})):(i=t.fn.html.call(n,e),o.val(e)),void 0===e)return i;n.change()}}}),t(function(e,t){var i=e.Txt,n="propertychange change click keyup input paste";i.fn.render=function(){var e=this.$txt;this.editor.$editorContainer.append(e)},i.fn.initHeight=function(){var e=this.editor,t=this.$txt,i=e.$valueContainer.height(),n=e.menuContainer.height(),o=i-n;o=o<50?50:o,t.height(o),e.valueContainerHeight=i,this.initMaxHeight(o,n)},i.fn.initMaxHeight=function(i,n){var o=this.editor,a=o.menuContainer.$menuContainer,c=this.$txt,r=t("<div>");if(window.getComputedStyle&&"max-height"in window.getComputedStyle(c.get(0))){var l=parseInt(o.$valueContainer.css("max-height"));if(isNaN(l))return;if(o.menus.fullscreen)return void e.warn("max-height和『全屏』菜单一起使用时，会有一些问题尚未解决，请暂时不要两个同时使用");o.useMaxHeight=!0,r.css({"max-height":l-n+"px","overflow-y":"auto"}),c.css({height:"auto","overflow-y":"visible","min-height":i+"px"}),r.on("scroll",function(){c.parent().scrollTop()>10?a.addClass("wangEditor-menu-shadow"):a.removeClass("wangEditor-menu-shadow")}),c.wrap(r)}},i.fn.saveSelectionEvent=function(){function e(){c.saveSelection()}function t(){Date.now()-r<100||(r=Date.now(),e())}function i(){o&&clearTimeout(o),o=setTimeout(e,300)}var o,a=this.$txt,c=this.editor,r=Date.now();a.on(n+" focus blur",function(e){t(),i()}),a.on("mousedown",function(){a.on("mouseleave.saveSelection",function(e){t(),i(),c.updateMenuStyle()})}).on("mouseup",function(){a.off("mouseleave.saveSelection")})},i.fn.updateValueEvent=function(){function e(){var e=o.html();i!==e&&(a.onchange&&"function"==typeof a.onchange&&a.onchange.call(a),a.updateValue(),i=e)}var t,i,o=this.$txt,a=this.editor;o.on(n,function(n){null==i&&(i=o.html()),t&&clearTimeout(t),t=setTimeout(e,100)})},i.fn.updateMenuStyleEvent=function(){var e=this.$txt,t=this.editor;e.on(n,function(e){t.updateMenuStyle()})},i.fn.insertEmptyP=function(){var e=this.$txt,i=e.children();if(0===i.length)return void e.append(t("<p><br></p>"));"<br>"!==t.trim(i.last().html()).toLowerCase()&&e.append(t("<p><br></p>"))},i.fn.wrapImgAndText=function(){var e,i,n=this.$txt,o=n.children("img"),a=n[0],c=a.childNodes,r=c.length;for(o.length&&o.each(function(){t(this).wrap("<p>")}),e=0;e<r;e++)i=c[e],3===i.nodeType&&i.textContent&&t.trim(i.textContent)&&t(i).wrap("<p>")},i.fn.clearEmptyOrNestP=function(){this.$txt.find("p").each(function(){var e,i=t(this),n=i.children(),o=n.length;if(!t.trim(i.html()))return void i.remove();1===o&&(e=n.first(),e.get(0)&&"P"===e.get(0).nodeName&&i.html(e.html()))})},i.fn.scrollTop=function(e){var t=this,i=t.editor,n=t.$txt;return i.useMaxHeight?n.parent().scrollTop(e):n.scrollTop(e)},i.fn.showHeightOnHover=function(){function e(e){l||(o.append(r),l=!0);var t=(c.position().top,c.outerHeight(),e.height()),i=e.position().top,n=parseInt(e.css("margin-top"),10),u=parseInt(e.css("padding-top"),10),d=parseInt(e.css("margin-bottom"),10),m=parseInt(e.css("padding-bottom"),10);a.height();r.css({height:t+u+n+m+d,top:i+a.height()})}function i(){l&&(r.remove(),l=!1)}var n=this.editor,o=n.$editorContainer,a=n.menuContainer,c=this.$txt,r=t('<i class="height-tip"><i>'),l=!1;c.on("mouseenter","ul,ol,blockquote,p,h1,h2,h3,h4,h5,table,pre",function(i){e(t(i.currentTarget))}).on("mouseleave",function(){i()})}}),t(function(e,t){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},Array.prototype.lastIndexOf=function(e){var t=this.length;for(t-=1;t>=0;t--)if(this[t]===e)return t;return-1}),Date.now||(Date.now=function(){return(new Date).valueOf()});var i=window.console,n=function(){};t.each(["info","log","warn","error"],function(t,o){e[o]=null==i?n:function(t){e.config&&e.config.printLog&&i[o]("wangEditor提示: "+t)}}),e.random=function(){return Math.random().toString().slice(2)},e.placeholder="placeholder"in document.createElement("input"),e.placeholderForIE8=function(i){e.placeholder||i.find("input[placeholder]").each(function(){var e=t(this),i=e.attr("placeholder");""===e.val()&&(e.css("color","#666"),e.val(i),e.on("focus.placeholder click.placeholder",function(){e.val(""),e.css("color","#333"),e.off("focus.placeholder click.placeholder")}))})}}),t(function(e,t){e.langs={},e.langs["zh-cn"]={bold:"粗体",underline:"下划线",italic:"斜体",forecolor:"文字颜色",bgcolor:"背景色",strikethrough:"删除线",eraser:"清空格式",source:"源码",quote:"引用",fontfamily:"字体",fontsize:"字号",head:"标题",orderlist:"有序列表",unorderlist:"无序列表",alignleft:"左对齐",aligncenter:"居中",alignright:"右对齐",link:"链接",text:"文本",submit:"提交",cancel:"取消",unlink:"取消链接",table:"表格",emotion:"表情",img:"图片",uploadImg:"上传图片",linkImg:"网络图片",video:"视频",width:"宽",height:"高",location:"位置",loading:"加载中",searchlocation:"搜索位置",dynamicMap:"动态地图",clearLocation:"清除位置",langDynamicOneLocation:"动态地图只能显示一个位置",insertcode:"插入代码",undo:"撤销",redo:"重复",fullscreen:"全屏",openLink:"打开链接"},e.langs.en={bold:"Bold",underline:"Underline",italic:"Italic",forecolor:"Color",bgcolor:"Backcolor",strikethrough:"Strikethrough",eraser:"Eraser",source:"Codeview",quote:"Quote",fontfamily:"Font family",fontsize:"Font size",head:"Head",orderlist:"Ordered list",unorderlist:"Unordered list",alignleft:"Align left",aligncenter:"Align center",alignright:"Align right",link:"Insert link",text:"Text",submit:"Submit",cancel:"Cancel",unlink:"Unlink",table:"Table",emotion:"Emotions",img:"Image",uploadImg:"Upload",linkImg:"Link",video:"Video",width:"width",height:"height",location:"Location",loading:"Loading",searchlocation:"search",dynamicMap:"Dynamic",clearLocation:"Clear",langDynamicOneLocation:"Only one location in dynamic map",insertcode:"Insert Code",undo:"Undo",redo:"Redo",fullscreen:"Full screnn",openLink:"open link"}}),t(function(e,t){e.config={},e.config.zindex=1e4,e.config.printLog=!0,e.config.menuFixed=0,e.config.jsFilter=!0,e.config.legalTags="p,h1,h2,h3,h4,h5,h6,blockquote,table,ul,ol,pre",e.config.lang=e.langs["zh-cn"],e.config.menus=["source","|","bold","underline","italic","strikethrough","eraser","forecolor","bgcolor","|","quote","fontfamily","fontsize","head","unorderlist","orderlist","alignleft","aligncenter","alignright","|","link","unlink","table","emotion","|","img","video","location","insertcode","|","undo","redo","fullscreen"],e.config.colors={"#880000":"暗红色","#800080":"紫色","#ff0000":"红色","#ff00ff":"鲜粉色","#000080":"深蓝色","#0000ff":"蓝色","#00ffff":"湖蓝色","#008080":"蓝绿色","#008000":"绿色","#808000":"橄榄色","#00ff00":"浅绿色","#ffcc00":"橙黄色","#808080":"灰色","#c0c0c0":"银色","#000000":"黑色","#ffffff":"白色"},e.config.familys=["宋体","黑体","楷体","微软雅黑","Arial","Verdana","Georgia","Times New Roman","Microsoft JhengHei","Trebuchet MS","Courier New","Impact","Comic Sans MS","Consolas"],e.config.fontsizes={1:"12px",2:"13px",3:"16px",4:"18px",5:"24px",6:"32px",7:"48px"},e.config.emotionsShow="icon",e.config.emotions={weibo:{title:"微博表情",data:[{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/7a/shenshou_thumb.gif",value:"[草泥马]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/60/horse2_thumb.gif",value:"[神马]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/fuyun_thumb.gif",value:"[浮云]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_thumb.gif",value:"[给力]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/f2/wg_thumb.gif",value:"[围观]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/70/vw_thumb.gif",value:"[威武]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/6e/panda_thumb.gif",value:"[熊猫]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/81/rabbit_thumb.gif",value:"[兔子]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/otm_thumb.gif",value:"[奥特曼]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/15/j_thumb.gif",value:"[囧]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/89/hufen_thumb.gif",value:"[互粉]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c4/liwu_thumb.gif",value:"[礼物]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/ac/smilea_thumb.gif",value:"[呵呵]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/0b/tootha_thumb.gif",value:"[哈哈]"}]}},e.config.mapAk="TVhjYjq1ICT2qqL5LdS8mwas",e.config.uploadImgUrl="",e.config.uploadTimeout=2e4,e.config.uploadImgFns={},e.config.customUpload=!1,e.config.uploadParams={},e.config.uploadHeaders={},e.config.withCredentials=!0,e.config.hideLinkImg=!1,e.config.pasteFilter=!0,e.config.pasteText=!1,e.config.codeDefaultLang="javascript"}),t(function(e,t){e.UI={},e.UI.menus={default:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-command"></i></a>',selected:".selected"},bold:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-bold"></i></a>',selected:".selected"},underline:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-underline"></i></a>',selected:".selected"},italic:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-italic"></i></a>',selected:".selected"},forecolor:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-pencil"></i></a>',selected:".selected"},bgcolor:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-brush"></i></a>',selected:".selected"},strikethrough:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-strikethrough"></i></a>',selected:".selected"},eraser:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-eraser"></i></a>',selected:".selected"},quote:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-quotes-left"></i></a>',selected:".selected"},source:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-code"></i></a>',selected:".selected"},fontfamily:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-font2"></i></a>',selected:".selected"},fontsize:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-text-height"></i></a>',selected:".selected"},head:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-header"></i></a>',selected:".selected"},orderlist:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-list-numbered"></i></a>',selected:".selected"},unorderlist:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-list-bullet"></i></a>',selected:".selected"},alignleft:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-align-left"></i></a>',selected:".selected"},aligncenter:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-align-center"></i></a>',selected:".selected"},alignright:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-align-right"></i></a>',selected:".selected"},link:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-link"></i></a>',selected:".selected"},unlink:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-unlink"></i></a>',selected:".selected"},table:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-table"></i></a>',selected:".selected"},emotion:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-happy"></i></a>',selected:".selected"},img:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-picture"></i></a>',selected:".selected"},video:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-play"></i></a>',selected:".selected"},location:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-location"></i></a>',selected:".selected"},insertcode:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-terminal"></i></a>',selected:".selected"},undo:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-ccw"></i></a>',selected:".selected"},redo:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-cw"></i></a>',selected:".selected"},fullscreen:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-enlarge2"></i></a>',selected:'<a href="#" tabindex="-1" class="selected"><i class="wangeditor-menu-img-shrink2"></i></a>'}}}),t(function(e,t){e.fn.initDefaultConfig=function(){var i=this;i.config=t.extend({},e.config),i.UI=t.extend({},e.UI)}}),t(function(e,t){e.fn.addEditorContainer=function(){this.$editorContainer=t('<div class="wangEditor-container"></div>')}}),t(function(e,t){e.fn.addTxt=function(){var t=this,i=new e.Txt(t);t.txt=i}}),t(function(e,t){e.fn.addMenuContainer=function(){var t=this;t.menuContainer=new e.MenuContainer(t)}}),t(function(e,t){e.createMenuFns=[],e.createMenu=function(t){e.createMenuFns.push(t)},e.fn.addMenus=function(){function i(e){return o.indexOf(e)>=0}var n=this,o=n.config.menus;t.each(e.createMenuFns,function(e,t){t.call(n,i)})}}),t(function(e,t){e.createMenu(function(t){if(t("bold")){var i=this,n=i.config.lang,o=new e.Menu({editor:i,id:"bold",title:n.bold,commandName:"Bold"});o.clickEventSelected=function(e){i.isRangeEmpty()?i.commandForElem("b,strong,h1,h2,h3,h4,h5",e,"Bold"):i.command(e,"Bold")},i.menus.bold=o}})}),t(function(e,t){e.createMenu(function(t){if(t("underline")){var i=this,n=i.config.lang,o=new e.Menu({editor:i,id:"underline",title:n.underline,commandName:"Underline"});o.clickEventSelected=function(e){i.isRangeEmpty()?i.commandForElem("u,a",e,"Underline"):i.command(e,"Underline")},i.menus.underline=o}})}),t(function(e,t){e.createMenu(function(t){if(t("italic")){var i=this,n=i.config.lang,o=new e.Menu({editor:i,id:"italic",title:n.italic,commandName:"Italic"});o.clickEventSelected=function(e){i.isRangeEmpty()?i.commandForElem("i",e,"Italic"):i.command(e,"Italic")},i.menus.italic=o}})}),t(function(e,t){e.createMenu(function(i){if(i("forecolor")){var n=this,o=n.config.lang,a=n.config.colors,c=new e.Menu({editor:n,id:"forecolor",title:o.forecolor}),r=t("<div></div>");t.each(a,function(e,t){r.append(['<a href="#" class="color-item"','    title="'+t+'" commandValue="'+e+'" ','    style="color: '+e+'" ','><i class="wangeditor-menu-img-pencil"></i></a>'].join(""))}),r.on("click","a[commandValue]",function(e){var i=t(this),o=i.attr("commandValue");c.selected&&n.isRangeEmpty()?n.commandForElem("font[color]",e,"forecolor",o):n.command(e,"forecolor",o)}),c.dropPanel=new e.DropPanel(n,c,{$content:r,width:125}),c.updateSelectedEvent=function(){var e=n.getRangeElem();return!!(e=n.getSelfOrParentByName(e,"font[color]"))},n.menus.forecolor=c}})}),t(function(e,t){e.createMenu(function(i){function n(e){var t;return!!(e&&e.style&&null!=e.style.cssText&&(t=e.style.cssText)&&t.indexOf("background-color:")>=0)}if(i("bgcolor")){var o=this,a=o.config.lang,c=o.config.colors,r=new e.Menu({editor:o,id:"bgcolor",title:a.bgcolor}),l=t("<div></div>");t.each(c,function(e,t){l.append(['<a href="#" class="color-item"','    title="'+t+'" commandValue="'+e+'" ','    style="color: '+e+'" ','><i class="wangeditor-menu-img-brush"></i></a>'].join(""))}),l.on("click","a[commandValue]",function(e){var i=t(this),a=i.attr("commandValue");r.selected&&o.isRangeEmpty()?o.commandForElem({selector:"span,font",check:n},e,"BackColor",a):o.command(e,"BackColor",a)}),r.dropPanel=new e.DropPanel(o,r,{$content:l,width:125}),r.updateSelectedEvent=function(){var e=o.getRangeElem();return!!(e=o.getSelfOrParentByName(e,"span,font",n))},o.menus.bgcolor=r}})}),t(function(e,t){e.createMenu(function(t){var i="strikethrough";if(t(i)){var n=this,o=n.config.lang,a=new e.Menu({editor:n,id:i,title:o.strikethrough,commandName:"StrikeThrough"});a.clickEventSelected=function(e){n.isRangeEmpty()?n.commandForElem("strike",e,"StrikeThrough"):n.command(e,"StrikeThrough")},n.menus[i]=a}})}),t(function(e,t){e.createMenu(function(i){if(i("eraser")){var n=this,o=n.config.lang,a=new e.Menu({editor:n,id:"eraser",title:o.eraser,commandName:"RemoveFormat"});a.clickEvent=function(e){function i(){var e,i,n,o,c,r,l,u=this;e=u.getRangeElem(),o=u.getSelfOrParentByName(e,"blockquote"),o&&(c=t(o),a=t("<p>"+c.text()+"</p>"),c.after(a).remove()),i=u.getSelfOrParentByName(e,"p,h1,h2,h3,h4,h5"),i&&(n=t(i),a=t("<p>"+n.text()+"</p>"),n.after(a).remove()),(r=u.getSelfOrParentByName(e,"ul,ol"))&&(l=t(r),a=t("<p>"+l.text()+"</p>"),l.after(a).remove())}function o(){var e=this;a&&e.restoreSelectionByElem(a.get(0))}if(!n.isRangeEmpty())return void n.command(e,"RemoveFormat");var a;n.customCommand(e,i,o)},n.menus.eraser=a}})}),t(function(e,t){e.createMenu(function(i){function n(){var e=r.$codeTextarea,i=a.txt.$txt,n=t.trim(e.val());n||(n="<p><br></p>"),a.config.jsFilter&&(n=n.replace(/<script[\s\S]*?<\/script>/gi,""));try{i.html(n)}catch(e){}}if(i("source")){var o,a=this,c=a.config.lang,r=new e.Menu({editor:a,id:"source",title:c.source});r.isShowCode=!1,r.clickEvent=function(e){var i=this,a=i.editor,c=a.txt.$txt,l=c.outerHeight(),u=c.height();i.$codeTextarea||(i.$codeTextarea=t('<textarea class="code-textarea"></textarea>'));var d=i.$codeTextarea;d.css({height:u,"margin-top":l-u}),d.val(c.html()),d.on("change",function(e){n()}),c.after(d).hide(),d.show(),r.isShowCode=!0,this.updateSelected(),a.disableMenusExcept("source"),o=c.html()},r.clickEventSelected=function(e){var t=this,i=t.editor,a=i.txt.$txt,c=t.$codeTextarea;c&&(n(),c.after(a).hide(),a.show(),r.isShowCode=!1,this.updateSelected(),i.enableMenusExcept("source"),a.html()!==o&&i.onchange&&"function"==typeof i.onchange&&i.onchange.call(i))},r.updateSelectedEvent=function(){return this.isShowCode},a.menus.source=r}})}),t(function(e,t){e.createMenu(function(i){if(i("quote")){var n=this,o=n.config.lang,a=new e.Menu({editor:n,id:"quote",title:o.quote,commandName:"formatBlock",commandValue:"blockquote"});a.clickEvent=function(e){function i(){r=t("<p>"+a.text()+"</p>"),a.after(r).remove(),r.wrap("<blockquote>")}function o(){var e=this;r&&e.restoreSelectionByElem(r.get(0))}var a,c=n.getRangeElem();if(!c)return void e.preventDefault();var r,l=n.getSelfOrParentByName(c,"blockquote");return l?void e.preventDefault():(c=n.getLegalTags(c),a=t(c),a.text()?c?void n.customCommand(e,i,o):void n.command(e,"formatBlock","blockquote"):void 0)},a.clickEventSelected=function(e){function i(){var e,i;if(e=t(c),i=e.children(),i.length)return i.each(function(i){var n=t(this);"P"===n.get(0).nodeName?e.after(n):e.after("<p>"+n.text()+"</p>"),r=n}),void e.remove()}function o(){var e=this;r&&e.restoreSelectionByElem(r.get(0))}var a,c,r;if(a=n.getRangeElem(),!(c=n.getSelfOrParentByName(a,"blockquote")))return void e.preventDefault();n.customCommand(e,i,o)},a.updateSelectedEvent=function(){var e,t=this,i=t.editor;return e=i.getRangeElem(),!!(e=i.getSelfOrParentByName(e,"blockquote"))},n.menus.quote=a,n.ready(function(){var e=this,i=e.txt.$txt,n=!1;i.on("keydown",function(i){if(13!==i.keyCode)return void(n=!1);var o=e.getRangeElem();if(!(o=e.getSelfOrParentByName(o,"blockquote")))return void(n=!1);if(!n)return void(n=!0);var a=e.getRangeElem(),c=t(a);c.length&&c.parent().after(c),e.restoreSelectionByElem(a,"start"),n=!1,i.preventDefault()})}),n.ready(function(){function e(){n&&n.remove()}function i(){if(n){var e=n.prev();e.length?o.restoreSelectionByElem(e.get(0)):o.initSelection()}}var n,o=this,a=o.txt.$txt;a.on("keydown",function(a){if(8===a.keyCode){var c=o.getRangeElem();if(c=o.getSelfOrParentByName(c,"blockquote")){n=t(c);n.text()||o.customCommand(a,e,i)}}})})}})}),t(function(e,t){e.createMenu(function(i){if(i("fontfamily")){var n=this,o=n.config.lang,a=n.config.familys,c=new e.Menu({editor:n,id:"fontfamily",title:o.fontfamily,commandName:"fontName"}),r={};t.each(a,function(e,t){r[t]=t});c.dropList=new e.DropList(n,c,{data:r,tpl:'<span style="font-family:{#commandValue};">{#title}</span>',selectorForELemCommand:"font[face]"}),c.updateSelectedEvent=function(){var e=n.getRangeElem();return!!(e=n.getSelfOrParentByName(e,"font[face]"))},n.menus.fontfamily=c}})}),t(function(e,t){e.createMenu(function(t){if(t("fontsize")){var i=this,n=i.config.lang,o=i.config.fontsizes,a=new e.Menu({editor:i,id:"fontsize",title:n.fontsize,commandName:"fontSize"}),c=o;a.dropList=new e.DropList(i,a,{data:c,tpl:'<span style="font-size:{#title};">{#title}</span>',selectorForELemCommand:"font[size]"}),a.updateSelectedEvent=function(){var e=i.getRangeElem();return!!(e=i.getSelfOrParentByName(e,"font[size]"))},i.menus.fontsize=a}})}),t(function(e,t){e.createMenu(function(t){function i(e){a.queryCommandState("InsertOrderedList")?(o=!0,a.command(e,"InsertOrderedList")):o=!1}function n(e){o&&a.command(e,"InsertOrderedList")}if(t("head")){var o,a=this,c=a.config.lang,r=new e.Menu({editor:a,id:"head",title:c.head,commandName:"formatBlock"}),l={"<h1>":"标题1","<h2>":"标题2","<h3>":"标题3","<h4>":"标题4","<h5>":"标题5"};r.dropList=new e.DropList(a,r,{data:l,tpl:"{#commandValue}{#title}",beforeEvent:i,afterEvent:n}),r.updateSelectedEvent=function(){var e=a.getRangeElem();return!!(e=a.getSelfOrParentByName(e,"h1,h2,h3,h4,h5"))},a.menus.head=r}})}),t(function(e,t){e.createMenu(function(t){if(t("unorderlist")){var i=this,n=i.config.lang,o=new e.Menu({editor:i,id:"unorderlist",title:n.unorderlist,commandName:"InsertUnorderedList"});i.menus.unorderlist=o}})}),t(function(e,t){e.createMenu(function(t){if(t("orderlist")){var i=this,n=i.config.lang,o=new e.Menu({editor:i,id:"orderlist",title:n.orderlist,commandName:"InsertOrderedList"});i.menus.orderlist=o}})}),t(function(e,t){e.createMenu(function(i){if(i("alignleft")){var n=this,o=n.config.lang,a=new e.Menu({editor:n,id:"alignleft",title:o.alignleft,commandName:"JustifyLeft"});a.updateSelectedEvent=function(){var e=n.getRangeElem();return!!(e=n.getSelfOrParentByName(e,"p,h1,h2,h3,h4,h5,li",function(e){var i;return!!(e&&e.style&&null!=e.style.cssText&&(i=e.style.cssText)&&/text-align:\s*left;/.test(i))||"left"===t(e).attr("align")}))},n.menus.alignleft=a}})}),t(function(e,t){e.createMenu(function(i){if(i("aligncenter")){var n=this,o=n.config.lang,a=new e.Menu({editor:n,id:"aligncenter",title:o.aligncenter,commandName:"JustifyCenter"});a.updateSelectedEvent=function(){var e=n.getRangeElem();return!!(e=n.getSelfOrParentByName(e,"p,h1,h2,h3,h4,h5,li",function(e){var i;return!!(e&&e.style&&null!=e.style.cssText&&(i=e.style.cssText)&&/text-align:\s*center;/.test(i))||"center"===t(e).attr("align")}))},n.menus.aligncenter=a}})}),t(function(e,t){e.createMenu(function(i){if(i("alignright")){var n=this,o=n.config.lang,a=new e.Menu({editor:n,id:"alignright",title:o.alignright,commandName:"JustifyRight"});a.updateSelectedEvent=function(){var e=n.getRangeElem();return!!(e=n.getSelfOrParentByName(e,"p,h1,h2,h3,h4,h5,li",function(e){var i;return!!(e&&e.style&&null!=e.style.cssText&&(i=e.style.cssText)&&/text-align:\s*right;/.test(i))||"right"===t(e).attr("align")}))},n.menus.alignright=a}})}),t(function(e,t){e.createMenu(function(i){if(i("link")){var n=this,o=n.config.lang,a=new e.Menu({editor:n,id:"link",title:o.link}),c=t("<div></div>"),r=t('<div style="margin:20px 10px;" class="clearfix"></div>'),l=r.clone(),u=r.clone().css("margin","0 10px"),d=t('<input type="text" class="block" placeholder="'+o.text+'"/>'),m=t('<input type="text" class="block" placeholder="'+o.link+'"/>'),s=t('<button class="right">'+o.submit+"</button>"),f=t('<button class="right gray">'+o.cancel+"</button>");r.append(d),l.append(m),u.append(s).append(f),c.append(r).append(l).append(u),a.dropPanel=new e.DropPanel(n,a,{$content:c,width:300}),a.clickEvent=function(e){var t=this,i=t.dropPanel;if(i.isShowing)return void i.hide();d.val(""),m.val("http://");var o="",a=n.getRangeElem();(a=n.getSelfOrParentByName(a,"a"))&&(o=a.href||"");var c="",r=n.isRangeEmpty();r?a&&(c=a.textContent||a.innerHTML):c=n.getRangeText()||"",o&&m.val(o),c&&d.val(c),r?d.removeAttr("disabled"):d.attr("disabled",!0),i.show()},a.updateSelectedEvent=function(){var e=n.getRangeElem();return!!(e=n.getSelfOrParentByName(e,"a"))},f.click(function(e){e.preventDefault(),a.dropPanel.hide()}),s.click(function(i){i.preventDefault();var o,c,r,l,u,s,f=n.getRangeElem(),g=n.getSelfOrParentByName(f,"a"),h=n.isRangeEmpty(),p=n.txt.$txt,v="link"+e.random(),b=t.trim(m.val()),w=t.trim(d.val());if(!b)return void a.dropPanel.focusFirstInput();w||(w=b),h?g?(o=t(g),r=function(){o.attr("href",b),o.text(w)},l=function(){this.restoreSelectionByElem(g)},n.customCommand(i,r,l)):(c='<a href="'+b+'" target="_blank">'+w+"</a>",e.userAgent.indexOf("Firefox")>0&&(c+="<span>&nbsp;</span>"),n.command(i,"insertHtml",c)):(u=p.find("a"),u.attr(v,"1"),n.command(i,"createLink",b),s=p.find("a").not("["+v+"]"),s.attr("target","_blank"),u.removeAttr(v))}),n.menus.link=a}})}),t(function(e,t){e.createMenu(function(i){if(i("unlink")){var n=this,o=n.config.lang,a=new e.Menu({editor:n,id:"unlink",title:o.unlink,commandName:"unLink"});a.clickEvent=function(e){function i(){r.after(l).remove()}function o(){n.restoreSelectionByElem(l.get(0))}if(!n.isRangeEmpty())return void n.command(e,"unLink");var a=n.getRangeElem(),c=n.getSelfOrParentByName(a,"a");if(!c)return void e.preventDefault();var r=t(c),l=t("<span>"+r.text()+"</span>");n.customCommand(e,i,o)},n.menus.unlink=a}})}),t(function(e,t){e.createMenu(function(i){if(i("table")){var n,o,a,c=this,r=c.config.lang,l=new e.Menu({editor:c,id:"table",title:r.table}),u=t('<div style="font-size: 14px; color: #666; text-align:right;"></div>'),d=t('<table class="choose-table" style="margin-bottom:10px;margin-top:5px;">'),m=t("<span>0</span>"),s=t("<span> 行 </span>"),f=t("<span>0</span>"),g=t("<span> 列</span>");for(o=0;o<15;o++){for(n=t('<tr index="'+(o+1)+'">'),a=0;a<20;a++)n.append(t('<td index="'+(a+1)+'">'));d.append(n)}u.append(d),u.append(m).append(s).append(f).append(g),d.on("mouseenter","td",function(e){var i=t(e.currentTarget),n=i.attr("index"),o=i.parent(),a=o.attr("index");m.text(a),f.text(n),d.find("tr").each(function(){var e=t(this),i=e.attr("index");parseInt(i,10)<=parseInt(a,10)?e.find("td").each(function(){var e=t(this),i=e.attr("index");parseInt(i,10)<=parseInt(n,10)?e.addClass("active"):e.removeClass("active")}):e.find("td").removeClass("active")})}).on("mouseleave",function(e){d.find("td").removeClass("active"),m.text(0),f.text(0)}),d.on("click","td",function(e){var i,n,o=t(e.currentTarget),a=o.attr("index"),r=o.parent(),l=r.attr("index"),u=parseInt(l,10),d=parseInt(a,10),m="<table>";for(i=0;i<u;i++){for(m+="<tr>",n=0;n<d;n++)m+="<td><span>&nbsp;</span></td>";m+="</tr>"}m+="</table>",c.command(e,"insertHtml",m)}),l.dropPanel=new e.DropPanel(c,l,{$content:u,width:262}),c.menus.table=l}})}),t(function(e,t){e.createMenu(function(i){function n(e,i){t.each(e,function(e,n){var a=n.icon||n.url,c=n.value||n.title,r="icon"===l?a:c,u=t('<a href="#" commandValue="'+r+'"></a>'),d=t("<img>");d.attr("_src",a),u.append(d),i.append(u),o.emotionUrls.push(a)})}if(i("emotion")){var o=this,a=o.config,c=a.lang,r=a.emotions,l=a.emotionsShow;o.emotionUrls=[];var u=new e.Menu({editor:o,id:"emotion",title:c.emotion}),d=t('<div class="panel-tab"></div>'),m=t('<div class="tab-container"></div>'),s=t('<div class="content-container emotion-content-container"></div>');t.each(r,function(i,o){var a=o.title,c=o.data;e.log("正在处理 "+a+" 表情的数据...");var r=t('<a href="#">'+a+" </a>");m.append(r);var l=t('<div class="content"></div>');if(s.append(l),r.click(function(e){m.children().removeClass("selected"),s.children().removeClass("selected"),l.addClass("selected"),r.addClass("selected"),e.preventDefault()}),"string"==typeof c)e.log("将通过 "+c+" 地址ajax下载表情包"),t.get(c,function(i){i=t.parseJSON(i),e.log("下载完毕，得到 "+i.length+" 个表情"),n(i,l)});else{if(!(Object.prototype.toString.call(c).toLowerCase().indexOf("array")>0))return void e.error("data 数据格式错误，请修改为正确格式，参考文档："+e.docsite);n(c,l)}}),d.append(m).append(s),m.children().first().addClass("selected"),s.children().first().addClass("selected"),s.on("click","a[commandValue]",function(e){var i=t(e.currentTarget),n=i.attr("commandValue");"icon"===l?o.command(e,"InsertImage",n):o.command(e,"insertHtml","<span>"+n+"</span>"),e.preventDefault()}),u.dropPanel=new e.DropPanel(o,u,{$content:d,width:350}),u.clickEvent=function(i){var n=this,o=n.dropPanel;if(o.isShowing)return void o.hide();o.show(),n.imgLoaded||(s.find("img").each(function(){var i=t(this),n=i.attr("_src");i.on("error",function(){e.error("加载不出表情图片 "+n)}),i.attr("src",n),i.removeAttr("_src")}),n.imgLoaded=!0)},o.menus.emotion=u}})}),t(function(e,t){function i(e,i,n){function o(){r.val("")}var a=e.config.lang,c=t('<div style="margin:20px 10px 10px 10px;"></div>'),r=t('<input type="text" class="block" placeholder="http://"/>');c.append(r);var l=t('<button class="right">'+a.submit+"</button>"),u=t('<button class="right gray">'+a.cancel+"</button>");n.append(c).append(l).append(u),u.click(function(e){e.preventDefault(),i.dropPanel.hide()}),l.click(function(i){i.preventDefault();var n=t.trim(r.val());if(!n)return void r.focus();var a='<img style="max-width:100%;" src="'+n+'"/>';e.command(i,"insertHtml",a,o)})}e.createMenu(function(n){function o(){f.click(function(e){m.children().removeClass("selected"),s.children().removeClass("selected"),h.addClass("selected"),f.addClass("selected"),e.preventDefault()}),g.click(function(t){m.children().removeClass("selected"),s.children().removeClass("selected"),p.addClass("selected"),g.addClass("selected"),t.preventDefault(),e.placeholder&&p.find("input[type=text]").focus()}),f.click()}function a(){m.remove(),h.remove(),p.addClass("selected")}function c(){m.remove(),p.remove(),h.addClass("selected")}if(n("img")){var r=this,l=r.config.lang,u=new e.Menu({editor:r,id:"img",title:l.img}),d=t('<div class="panel-tab"></div>'),m=t('<div class="tab-container"></div>'),s=t('<div class="content-container"></div>');d.append(m).append(s);var f=t('<a href="#">'+l.uploadImg+"</a>"),g=t('<a href="#">'+l.linkImg+"</a>");m.append(f).append(g);var h=t('<div class="content"></div>');s.append(h);var p=t('<div class="content"></div>');s.append(p),i(r,u,p),u.dropPanel=new e.DropPanel(r,u,{$content:d,width:400,onRender:function(){var e=r.config.customUploadInit;e&&e.call(r)}}),r.menus.img=u,r.ready(function(){function e(){u.dropPanel.hide()}var t=this,i=t.config,n=i.uploadImgUrl,r=i.customUpload,l=i.hideLinkImg;n||r?(t.$uploadContent=h,o(),l&&c()):a(),h.click(function(){setTimeout(e)})})}})}),t(function(e,t){e.createMenu(function(i){if(i("video")){var n=this,o=n.config.lang,a=/^<(iframe)|(embed)/i,c=new e.Menu({editor:n,id:"video",title:o.video}),r=t("<div></div>"),l=t('<div style="margin:20px 10px;"></div>'),u=t('<input type="text" class="block" placeholder=\'格式如：<iframe src="..." frameborder=0 allowfullscreen></iframe>\'/>');l.append(u);var d=t('<div style="margin:20px 10px;"></div>'),m=t('<input type="text" value="640" style="width:50px;text-align:center;"/>'),s=t('<input type="text" value="498" style="width:50px;text-align:center;"/>');d.append("<span> "+o.width+" </span>").append(m).append("<span> px &nbsp;&nbsp;&nbsp;</span>").append("<span> "+o.height+" </span>").append(s).append("<span> px </span>");var f=t("<div></div>"),g=t('<a href="http://www.kancloud.cn/wangfupeng/wangeditor2/134973" target="_blank" style="display:inline-block;margin-top:10px;margin-left:10px;color:#999;">如何复制视频链接？</a>'),h=t('<button class="right">'+o.submit+"</button>"),p=t('<button class="right gray">'+o.cancel+"</button>");f.append(g).append(h).append(p),r.append(l).append(d).append(f),p.click(function(e){e.preventDefault(),u.val(""),c.dropPanel.hide()}),h.click(function(e){e.preventDefault();var i,o=t.trim(u.val()),r=parseInt(m.val()),l=parseInt(s.val()),d=t("<div>"),f="<p>{content}</p>";return o?a.test(o)?isNaN(r)||isNaN(l)?void alert("宽度或高度不是数字！"):(i=t(o),i.attr("width",r).attr("height",l),f=f.replace("{content}",d.append(i).html()),n.command(e,"insertHtml",f),void u.val("")):(alert("视频链接格式错误！"),void c.dropPanel.focusFirstInput()):void c.dropPanel.focusFirstInput()}),c.dropPanel=new e.DropPanel(n,c,{$content:r,width:400}),n.menus.video=c}})}),t(function(e,t){var i=function(e){return"onkeyup"in e}(document.createElement("input"));e.baiduMapAk="TVhjYjq1ICT2qqL5LdS8mwas",e.numberOfLocation=0,e.createMenu(function(n){function o(){h.val("")}if(n("location")){if(++e.numberOfLocation>1)return void e.error("目前不支持在一个页面多个编辑器上同时使用地图，可通过自定义菜单配置去掉地图菜单");var a=this,c=a.config,r=c.lang,l=c.mapAk;a.mapData={};var u=a.mapData;u.markers=[],u.mapContainerId="map"+e.random(),u.clearLocations=function(){var e=u.map;e&&(e.clearOverlays(),u.markers=[])},u.searchMap=function(){var e=u.map;if(e){var t,i,n=window.BMap,o=g.val(),a=h.val();""!==o&&(a&&""!==a||e.centerAndZoom(o,11),a&&""!==a&&(t=new n.Geocoder,t.getPoint(a,function(t){t?(e.centerAndZoom(t,13),i=new n.Marker(t),e.addOverlay(i),i.enableDragging(),u.markers.push(i)):e.centerAndZoom(o,11)},o)))}};var d=!1;window.baiduMapCallBack=function(){function t(t){var n=t.name;o.setCenter(n),g.val(n),e.placeholder&&h.focus();var a,c;i?(c=function(e){"keyup"===e.type&&13===e.keyCode&&e.preventDefault(),a&&clearTimeout(a),a=setTimeout(u.searchMap,500)},g.on("keyup change paste",c),h.on("keyup change paste",c)):(c=function(){if(!s.is(":visible"))return void clearTimeout(a);var e="",t="",i=g.val(),n=h.val();i===e&&n===t||(u.searchMap(),e=i,t=n),a&&clearTimeout(a),a=setTimeout(c,1e3)},a=setTimeout(c,1e3))}if(!d){d=!0;var n=window.BMap;u.map||(u.map=new n.Map(u.mapContainerId));var o=u.map;o.centerAndZoom(new n.Point(116.404,39.915),11),o.addControl(new n.MapTypeControl),o.setCurrentCity("北京"),o.enableScrollWheelZoom(!0);(new n.LocalCity).get(t),o.addEventListener("click",function(e){var t=new n.Marker(new n.Point(e.point.lng,e.point.lat));o.addOverlay(t),t.enableDragging(),u.markers.push(t)},!1)}},u.loadMapScript=function(){var t=document.createElement("script");t.type="text/javascript",t.src="https://api.map.baidu.com/api?v=2.0&ak="+l+"&s=1&callback=baiduMapCallBack";try{document.body.appendChild(t)}catch(t){e.error("加载地图过程中发生错误")}},u.initMap=function(){window.BMap?window.baiduMapCallBack():u.loadMapScript()};var m=new e.Menu({editor:a,id:"location",title:r.location});a.menus.location=m;var s=t("<div></div>"),f=t('<div style="margin:10px 0;"></div>'),g=t('<input type="text"/>');g.css({width:"80px","text-align":"center"});var h=t('<input type="text"/>');h.css({width:"300px","margin-left":"10px"}).attr("placeholder",r.searchlocation);var p=t('<button class="right link">'+r.clearLocation+"</button>");f.append(p).append(g).append(h),s.append(f),p.click(function(e){h.val(""),h.focus(),u.clearLocations(),e.preventDefault()});var v=t('<div id="'+u.mapContainerId+'"></div>');v.css({height:"260px",width:"100%",position:"relative","margin-top":"10px",border:"1px solid #f1f1f1"});var b=t("<span>"+r.loading+"</span>");b.css({position:"absolute",width:"100px","text-align":"center",top:"45%",left:"50%","margin-left":"-50px"}),v.append(b),s.append(v);var w=t('<div style="margin:10px 0;"></div>'),x=t('<button class="right">'+r.submit+"</button>"),y=t('<button class="right gray">'+r.cancel+"</button>"),_=t('<label style="display:inline-block;margin-top:10px;color:#666;"></label>'),k=t('<input type="checkbox">');_.append(k).append('<span style="display:inline-block;margin-left:5px;">  '+r.dynamicMap+"</span>"),w.append(_).append(x).append(y),s.append(w),y.click(function(e){e.preventDefault(),o(),m.dropPanel.hide()}),x.click(function(e){e.preventDefault();var i,n,c,l=u.map,d=k.is(":checked"),m=u.markers,s=l.getCenter(),f=s.lng,g=s.lat,h=l.getZoom(),p=l.getSize(),v=p.width,b=p.height;if(n=d?"http://ueditor.baidu.com/ueditor/dialogs/map/show.html#":"http://api.map.baidu.com/staticimage?",n=n+"center="+f+","+g+"&zoom="+h+"&width="+v+"&height="+b,m.length>0&&(n+="&markers=",t.each(m,function(e,t){i=t.getPosition(),e>0&&(n+="|"),n=n+i.lng+","+i.lat})),d){if(m.length>1)return void alert(r.langDynamicOneLocation);n+="&markerStyles=l,A",c='<iframe class="ueditor_baidumap" src="{src}" frameborder="0" width="'+v+'" height="'+b+'"></iframe>',c=c.replace("{src}",n),a.command(e,"insertHtml",c,o)}else a.command(e,"insertHtml",'<img style="max-width:100%;" src="'+n+'"/>',o)}),m.dropPanel=new e.DropPanel(a,m,{$content:s,width:500}),m.onRender=function(){l===e.baiduMapAk&&e.warn("建议在配置中自定义百度地图的mapAk，否则可能影响地图功能，文档："+e.docsite)},m.clickEvent=function(e){var t=this,i=t.dropPanel,n=!1;if(i.isShowing)return void i.hide();u.map||(n=!0),i.show(),u.initMap(),n||h.focus()}}})}),t(function(e,t){function i(){if(!(e.userAgent.indexOf("MSIE 8")>0||window.hljs)){var t=document.createElement("script");t.type="text/javascript",t.src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js",document.body.appendChild(t)}}e.createMenu(function(n){function o(){var e=a.getRangeElem();a.getSelfOrParentByName(e,"code")?a.disableMenusExcept("insertcode"):a.enableMenusExcept("insertcode")}if(n("insertcode")){setTimeout(i,0);var a=this,c=a.config,r=c.lang,l=a.txt.$txt,u=new e.Menu({editor:a,id:"insertcode",title:r.insertcode});u.clickEvent=function(e){var i=this,n=i.dropPanel;if(n.isShowing)return void n.hide();m.val(""),n.show();var o=window.hljs;if(o&&o.listLanguages){if(0!==s.children().length)return;s.css({"margin-top":"9px","margin-left":"5px"}),t.each(o.listLanguages(),function(e,t){"xml"===t&&(t="html"),t===c.codeDefaultLang?s.append('<option value="'+t+'" selected="selected">'+t+"</option>"):s.append('<option value="'+t+'">'+t+"</option>")})}else s.hide()},u.clickEventSelected=function(e){var i=this,n=i.dropPanel;if(n.isShowing)return void n.hide();n.show();var o,c,r=a.getRangeElem(),l=a.getSelfOrParentByName(r,"pre");l&&(l=a.getSelfOrParentByName(r,"code")),l&&(o=t(l),m.val(o.text()),s&&(c=o.attr("class"))&&s.val(c.split(" ")[0]))},u.updateSelectedEvent=function(){var e,t=this,i=t.editor;return e=i.getRangeElem(),!!(e=i.getSelfOrParentByName(e,"pre"))};var d=t("<div></div>"),m=t("<textarea></textarea>"),s=t("<select></select>");!function(e){var i=t("<div></div>");i.css({margin:"15px 5px 5px 5px",height:"160px","text-align":"center"}),m.css({width:"100%",height:"100%",padding:"10px"}),m.on("keydown",function(e){9===e.keyCode&&e.preventDefault()}),i.append(m),e.append(i);var n=t("<div></div>"),o=t('<button class="right">'+r.submit+"</button>"),c=t('<button class="right gray">'+r.cancel+"</button>");n.append(o).append(c).append(s),e.append(n),c.click(function(e){e.preventDefault(),u.dropPanel.hide()});var d='<pre style="max-width:100%;overflow-x:auto;"><code{#langClass}>{#content}</code></pre>';o.click(function(e){function i(){r&&p.attr("class")!==r+" hljs"&&p.attr("class",r+" hljs"),p.html(o)}function n(){a.restoreSelectionByElem(v),g()}e.preventDefault();var o=m.val();if(!o)return void m.focus();var c=a.getRangeElem();t.trim(t(c).text())&&0!==d.indexOf("<p><br></p>")&&(d="<p><br></p>"+d);var r=s?s.val():"",f="",g=function(){l.find("pre code").each(function(e,i){var n=t(i);n.attr("codemark")||window.hljs&&(window.hljs.highlightBlock(i),n.attr("codemark","1"))})};if(r&&(f=' class="'+r+' hljs"'),o=o.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;"),!u.selected){var h=d.replace("{#langClass}",f).replace("{#content}",o);return void a.command(e,"insertHtml",h,g)}var p,v=a.getSelfOrParentByName(c,"pre");v&&(v=a.getSelfOrParentByName(c,"code")),v&&(p=t(v),a.customCommand(e,i,n))})}(d),u.dropPanel=new e.DropPanel(a,u,{$content:d,width:500}),a.menus.insertcode=u,l.on("keydown",function(e){if(13===e.keyCode){var t=a.getRangeElem();a.getSelfOrParentByName(t,"code")&&a.command(e,"insertHtml","\n")}}),l.on("keydown click",function(e){setTimeout(o)})}})}),t(function(e,t){e.createMenu(function(t){if(t("undo")){var i=this,n=i.config.lang,o=new e.Menu({editor:i,id:"undo",title:n.undo});o.clickEvent=function(e){i.undo()},i.menus.undo=o,i.ready(function(){function e(){i.undoRecord()}var t,i=this,n=i.txt.$txt;n.on("keydown",function(n){var o=n.keyCode;if(n.ctrlKey&&90===o)return void i.undo();13===o?e():(t&&clearTimeout(t),t=setTimeout(e,1e3))}),i.undoRecord()})}})}),t(function(e,t){e.createMenu(function(t){if(t("redo")){var i=this,n=i.config.lang,o=new e.Menu({editor:i,id:"redo",title:n.redo});o.clickEvent=function(e){i.redo()},i.menus.redo=o}})}),t(function(e,t){var i;e.createMenu(function(t){if(t("fullscreen")){var n,o,a=this,c=a.txt.$txt,r=a.config,l=r.zindex||1e4,u=r.lang,d=!1,m=new e.Menu({editor:a,id:"fullscreen",title:u.fullscreen});m.clickEvent=function(t){var r=a.$editorContainer;r.addClass("wangEditor-fullscreen"),n=r.css("z-index"),r.css("z-index",l);var u,m=c.height(),s=c.outerHeight();a.useMaxHeight&&(o=c.css("max-height"),c.css("max-height","none"),u=c.parent(),u.after(c),u.remove(),c.css("overflow-y","auto"));var f=a.menuContainer;c.height(e.$window.height()-f.height()-(s-m)),a.menuContainer.$menuContainer.attr("style",""),d=!0,a.isFullScreen=!0,i=e.$window.scrollTop()},m.clickEventSelected=function(t){var r=a.$editorContainer;r.removeClass("wangEditor-fullscreen"),r.css("z-index",n),a.useMaxHeight?c.css("max-height",o):a.$valueContainer.css("height",a.valueContainerHeight),a.txt.initHeight(),d=!1,a.isFullScreen=!1,null!=i&&e.$window.scrollTop(i)},m.updateSelectedEvent=function(e){return d},a.menus.fullscreen=m}})}),t(function(e,t){e.fn.renderMenus=function(){var e,i=this,n=i.menus,o=i.config.menus,a=(i.menuContainer,0);t.each(o,function(t,i){if("|"===i)return void a++;(e=n[i])&&e.render(a)})}}),t(function(e,t){e.fn.renderMenuContainer=function(){var e=this,t=e.menuContainer;e.$editorContainer;t.render()}}),t(function(e,t){e.fn.renderTxt=function(){var e=this,t=e.txt;t.render(),e.ready(function(){t.initHeight()})}}),t(function(e,t){e.fn.renderEditorContainer=function(){var e,t,i=this,n=i.$valueContainer,o=i.$editorContainer,a=i.txt.$txt;n===a?(e=i.$prev,t=i.$parent,e&&e.length?e.after(o):t.prepend(o)):(n.after(o),n.hide())}}),t(function(e,t){e.fn.eventMenus=function(){var e=this.menus;t.each(e,function(e,t){t.bindEvent()})}}),t(function(e,t){e.fn.eventMenuContainer=function(){}}),t(function(e,t){e.fn.eventTxt=function(){var e=this.txt;e.saveSelectionEvent(),e.updateValueEvent(),e.updateMenuStyleEvent()}}),t(function(e,t){e.plugin(function(){var t=this,i=t.config.uploadImgFns;i.onload||(i.onload=function(t,i){e.log("上传结束，返回结果为 "+t);var n,o=this,a=o.uploadImgOriginalName||"";0===t.indexOf("error|")?(e.warn("上传失败："+t.split("|")[1]),alert(t.split("|")[1])):(e.log("上传成功，即将插入编辑区域，结果为："+t),n=document.createElement("img"),n.onload=function(){var i='<img src="'+t+'" alt="'+a+'" style="max-width:100%;"/>';o.command(null,"insertHtml",i),e.log("已插入图片，地址 "+t),n=null},n.onerror=function(){e.error("使用返回的结果获取图片，发生错误。请确认以下结果是否正确："+t),n=null},n.src=t)}),i.ontimeout||(i.ontimeout=function(t){e.error("上传图片超时"),alert("上传图片超时")}),i.onerror||(i.onerror=function(t){e.error("上传上图片发生错误"),alert("上传上图片发生错误")})})}),t(function(e,t){window.FileReader&&window.FormData&&e.plugin(function(){function i(e,t){var i,n=window.atob(e.split(",")[1]),o=new ArrayBuffer(n.length),a=new Uint8Array(o);for(i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return new Blob([o],{type:t})}function n(t,i){var n=document.createElement("img");n.onload=function(){var o='<img src="'+t+'" style="max-width:100%;"/>';a.command(i,"insertHtml",o),e.log("已插入图片，地址 "+t),n=null},n.onerror=function(){e.error("使用返回的结果获取图片，发生错误。请确认以下结果是否正确："+t),n=null},n.src=t}function o(e){if(e.lengthComputable){var t=e.loaded/e.total;a.showUploadProgress(100*t)}}var a=this,c=a.config,r=c.uploadImgUrl,l=c.uploadTimeout,u=c.uploadImgFns,d=u.onload,m=u.ontimeout,s=u.onerror;r&&(a.xhrUploadImg=function(c){function u(){j&&clearTimeout(j),C&&C.abort&&C.abort(),f.preventDefault(),x&&x.call(a,C),a.hideUploadProgress()}var f=c.event,g=c.filename||"",h=c.base64,p=c.fileType||"image/png",v=c.name||"wangEditor_upload_file",b=c.loadfn||d,w=c.errorfn||s,x=c.timeoutfn||m,y=a.config.uploadParams||{},_=a.config.uploadHeaders||{},k="png";if(g.indexOf(".")>0?k=g.slice(g.lastIndexOf(".")-g.length+1):p.indexOf("/")>0&&p.split("/")[1]&&(k=p.split("/")[1]),e.isOnWebsite)return e.log("预览模拟上传"),void n(h,f);var j,C=new XMLHttpRequest,E=new FormData;C.onload=function(){j&&clearTimeout(j),a.uploadImgOriginalName=g,g.indexOf(".")>0&&(a.uploadImgOriginalName=g.split(".")[0]),b&&b.call(a,C.responseText,C),a.hideUploadProgress()},C.onerror=function(){j&&clearTimeout(j),f.preventDefault(),w&&w.call(a,C),a.hideUploadProgress()},C.upload.onprogress=o,E.append(v,i(h,p),e.random()+"."+k),t.each(y,function(e,t){E.append(e,t)}),C.open("POST",r,!0),t.each(_,function(e,t){C.setRequestHeader(e,t)}),C.withCredentials=a.config.withCredentials||!0,C.send(E),j=setTimeout(u,l),e.log("开始上传...并开始超时计算")})})}),t(function(e,t){e.plugin(function(){function e(){u||(u=!0,l.css({top:a+"px"}),c.append(l))}function i(){l.hide(),d=null}var n=this,o=n.menuContainer,a=o.height(),c=n.$editorContainer,r=c.width(),l=t('<div class="wangEditor-upload-progress"></div>'),u=!1;n.showUploadProgress=function(t){d&&clearTimeout(d),e(),l.show(),l.width(t*r/100)};var d;n.hideUploadProgress=function(e){d&&clearTimeout(d),e=e||750,d=setTimeout(i,e)}})}),t(function(e,t){e.plugin(function(){var i,n=this,o=n.config,a=o.uploadImgUrl,c=o.uploadTimeout;if(a){var r=n.$uploadContent;if(r){var l=t('<div class="upload-icon-container"><i class="wangeditor-menu-img-upload"></i></div>');r.append(l);var u=new e.UploadFile({editor:n,uploadUrl:a,timeout:c,fileAccept:"image/jpg,image/jpeg,image/png,image/gif,image/bmp"});l.click(function(e){i=e,u.selectFiles()})}}})}),t(function(e,t){if(window.FileReader&&window.FormData){var i=function(e){this.editor=e.editor,this.uploadUrl=e.uploadUrl,this.timeout=e.timeout,this.fileAccept=e.fileAccept,this.multiple=!0};i.fn=i.prototype,i.fn.clear=function(){this.$input.val(""),e.log("input value 已清空")},i.fn.render=function(){var i=this;if(!i._hasRender){e.log("渲染dom");var n=i.fileAccept,o=n?'accept="'+n+'"':"",a=i.multiple,c=a?'multiple="multiple"':"",r=t('<input type="file" '+o+" "+c+"/>"),l=t('<div style="display:none;"></div>');l.append(r),e.$body.append(l),r.on("change",function(e){i.selected(e,r.get(0))}),i.$input=r,i._hasRender=!0}},i.fn.selectFiles=function(){var t=this;e.log("使用 html5 方式上传"),t.render(),e.log("选择文件"),t.$input.click()},i.fn.selected=function(i,n){var o=this,a=n.files||[];0!==a.length&&(e.log("选中 "+a.length+" 个文件"),t.each(a,function(e,t){o.upload(t)}))},i.fn.upload=function(t){function i(){n.clear()}var n=this,o=n.editor,a=t.name||"",c=t.type||"",r=o.config.uploadImgFns,l=o.config.uploadImgFileName||"wangEditorH5File",u=r.onload,d=r.ontimeout,m=r.onerror,s=new FileReader;if(!u||!d||!m)return void e.error("请为编辑器配置上传图片的 onload ontimeout onerror 回调事件");e.log("开始执行 "+a+" 文件的上传"),s.onload=function(t){e.log("已读取"+a+"文件");var n=t.target.result||this.result;o.xhrUploadImg({event:t,filename:a,base64:n,fileType:c,name:l,loadfn:function(e,t){i();var n=this;u.call(n,e,t)},errorfn:function(t){i(),e.isOnWebsite&&alert("wangEditor官网暂时没有服务端，因此报错。实际项目中不会发生");var n=this;m.call(n,t)},timeoutfn:function(t){i(),e.isOnWebsite&&alert("wangEditor官网暂时没有服务端，因此超时。实际项目中不会发生"),d(this,t)}})},s.readAsDataURL(t)},e.UploadFile=i}}),t(function(e,t){if(!window.FileReader||!window.FormData){var i=function(e){this.editor=e.editor,this.uploadUrl=e.uploadUrl,this.timeout=e.timeout,this.fileAccept=e.fileAccept,this.multiple=!1};i.fn=i.prototype,i.fn.clear=function(){this.$input.val(""),e.log("input value 已清空")},i.fn.hideModal=function(){this.modal.hide()},i.fn.render=function(){var i=this,n=i.editor,o=n.config.uploadImgFileName||"wangEditorFormFile";if(!i._hasRender){var a=i.uploadUrl;e.log("渲染dom");var c="iframe"+e.random(),r=t('<iframe name="'+c+'" id="'+c+'" frameborder="0" width="0" height="0"></iframe>'),l=i.multiple,u=l?'multiple="multiple"':"",d=t("<p>选择图片并上传</p>"),m=t('<input type="file" '+u+' name="'+o+'"/>'),s=t('<input type="submit" value="上传"/>'),f=t('<form enctype="multipart/form-data" method="post" action="'+a+'" target="'+c+'"></form>'),g=t('<div style="margin:10px 20px;"></div>');f.append(d).append(m).append(s),t.each(n.config.uploadParams,function(e,i){f.append(t('<input type="hidden" name="'+e+'" value="'+i+'"/>'))}),g.append(f),g.append(r),i.$input=m,i.$iframe=r;var h=new e.Modal(n,void 0,{$content:g});i.modal=h,i._hasRender=!0}},i.fn.bindLoadEvent=function(){function e(){var e=t.trim(c.document.body.innerHTML);if(e){var o=i.$input.val(),a=o;o.lastIndexOf("\\")>=0&&(a=o.slice(o.lastIndexOf("\\")+1),a.indexOf(".")>0&&(a=a.split(".")[0])),n.uploadImgOriginalName=a,r.call(n,e),i.clear(),i.hideModal()}}var i=this;if(!i._hasBindLoad){var n=i.editor,o=i.$iframe,a=o.get(0),c=a.contentWindow,r=n.config.uploadImgFns.onload;a.attachEvent?a.attachEvent("onload",e):a.onload=e,i._hasBindLoad=!0}},i.fn.show=function(){function e(){i.show(),t.bindLoadEvent()}var t=this,i=t.modal;setTimeout(e)},i.fn.selectFiles=function(){var t=this;e.log("使用 form 方式上传"),t.render(),t.clear(),t.show()},e.UploadFile=i}}),t(function(e,t){e.plugin(function(){function i(){var i=/^data:(image\/\w+);base64/,c=r.find("img");e.log("粘贴后，检查到编辑器有"+c.length+"个图片。开始遍历图片，试图找到刚刚粘贴过来的图片"),t.each(c,function(){var c,r,l=this,u=t(l),m=u.attr("src");o.each(function(){if(l===this)return c=!0,!1}),c||(e.log("找到一个粘贴过来的图片"),i.test(m)?(e.log("src 是 base64 格式，可以上传"),r=m.match(i)[1],a.xhrUploadImg({event:n,base64:m,fileType:r,name:d})):e.log("src 为 "+m+" ，不是 base64 格式，暂时不支持上传"),u.remove())}),e.log("遍历结束")}var n,o,a=this,c=a.txt,r=c.$txt,l=a.config,u=l.uploadImgUrl,d=l.uploadImgFileName||"wangEditorPasteFile";u&&r.on("paste",function(c){n=c;var l,u,m=n.clipboardData||n.originalEvent.clipboardData;(l=null==m?window.clipboardData&&window.clipboardData.getData("text"):m.getData("text/plain")||m.getData("text/html"))||(u=m&&m.items,u?(e.log("通过 data.items 得到了数据"),t.each(u,function(t,i){var o=i.type||"";if(!(o.indexOf("image")<0)){var c=i.getAsFile(),r=new FileReader;e.log("得到一个粘贴图片"),r.onload=function(t){e.log("读取到粘贴的图片");var i=t.target.result||this.result;a.xhrUploadImg({event:n,base64:i,fileType:o,name:d})},r.readAsDataURL(c)}})):(e.log("未从 data.items 得到数据，使用检测粘贴图片的方式"),o=r.find("img"),e.log("粘贴前，检查到编辑器有"+o.length+"个图片"),setTimeout(i,0)))})})}),t(function(e,t){e.plugin(function(){var i=this,n=i.txt,o=n.$txt,a=i.config,c=a.uploadImgUrl,r=a.uploadImgFileName||"wangEditorDragFile";c&&(e.$document.on("dragleave drop dragenter dragover",function(e){e.preventDefault()}),o.on("drop",function(n){n.preventDefault();var o=n.originalEvent,a=o.dataTransfer&&o.dataTransfer.files;a&&a.length&&t.each(a,function(t,o){var a=o.type,c=o.name;if(!(a.indexOf("image/")<0)){e.log("得到图片 "+c);var l=new FileReader;l.onload=function(t){e.log("读取到图片 "+c);var o=t.target.result||this.result;i.xhrUploadImg({event:n,base64:o,fileType:a,name:r})},l.readAsDataURL(o)}})}))})}),t(function(e,t){e.plugin(function(){function i(){s||(n(),f.append(g).append(h).append(p).append(v),r.$editorContainer.append(f),s=!0)}function n(){function e(e,i){d=u.html();var n=function(){i&&i(),d!==u.html()&&u.change()};t&&r.customCommand(e,t,n)}var t;h.click(function(i){t=function(){c.remove()},e(i,function(){setTimeout(a,100)})}),v.click(function(i){t=function(){c.css({width:"100%"})},e(i,function(){setTimeout(o)})}),p.click(function(i){t=function(){c.css({width:"auto"})},e(i,function(){setTimeout(o)})})}function o(){if(!r._disabled&&null!=c){c.addClass("clicked");var e=c.position(),t=e.top,i=e.left,n=c.outerHeight(),o=c.outerWidth(),a=t+n,l=i,u=0,d=m.position().top,s=m.outerHeight();a>d+s&&(a=d+s),f.show();u=o/2-f.outerWidth()/2,f.css({top:a+5,left:l,"margin-left":u}),u<0?(f.css("margin-left","0"),g.hide()):g.show()}}function a(){null!=c&&(c.removeClass("clicked"),c=null,f.hide())}var c,r=this,l=r.txt,u=l.$txt,d="",m=r.useMaxHeight?u.parent():u,s=!1,f=t('<div class="txt-toolbar"></div>'),g=t('<div class="tip-triangle"></div>'),h=t('<a href="#"><i class="wangeditor-menu-img-trash-o"></i></a>'),p=t('<a href="#"><i class="wangeditor-menu-img-search-minus"></i></a>'),v=t('<a href="#"><i class="wangeditor-menu-img-search-plus"></i></a>');m.on("click","table",function(e){var n=t(e.currentTarget);if(i(),c&&c.get(0)===n.get(0))return void setTimeout(a,100);c=n,o(),e.preventDefault(),e.stopPropagation()}).on("click keydown scroll",function(e){setTimeout(a,100)}),e.$body.on("click keydown scroll",function(e){setTimeout(a,100)})})}),t(function(e,t){e.userAgent.indexOf("MSIE 8")>0||e.plugin(function(){function i(e,i){if(u){var n,o,a=function(){null!=i&&(p=i),g!==f.html()&&f.change()},c=!1,r=u.parent();if("a"===r.get(0).nodeName.toLowerCase()?(o=r,c=!0):o=t('<a target="_blank"></a>'),null==i)return o.attr("href")||"";if(""===i)c&&(n=function(){u.unwrap()});else{if(i===p)return;n=function(){o.attr("href",i),c||u.wrap(o)}}n&&(g=f.html(),d.customCommand(e,n,a))}}function n(){v||(o(),a(),y.append(_).append(k).append(j).append(C).append(E).append($).append(S).append(M),T.append(B).append(R).append(N),w.append(x).append(y).append(T),d.$editorContainer.append(w).append(b),v=!0)}function o(){function e(e,t){var i;g=f.html(),i=function(){t&&t(),g!==f.html()&&f.change()},n&&d.customCommand(e,n,i)}var n;_.click(function(t){i(t,""),n=function(){u.remove()},e(t,function(){setTimeout(r,100)})}),j.click(function(t){n=function(){var e=u.get(0),t=e.width,i=e.height;t*=1.1,i*=1.1,u.css({width:t+"px",height:i+"px"})},e(t,function(){setTimeout(c)})}),k.click(function(t){n=function(){var e=u.get(0),t=e.width,i=e.height;t*=.9,i*=.9,u.css({width:t+"px",height:i+"px"})},e(t,function(){setTimeout(c)})}),C.click(function(t){n=function(){u.parents("p").css({"text-align":"left"}).attr("align","left")},e(t,function(){setTimeout(r,100)})}),$.click(function(t){n=function(){u.parents("p").css({"text-align":"right"}).attr("align","right")},e(t,function(){setTimeout(r,100)})}),E.click(function(t){n=function(){u.parents("p").css({"text-align":"center"}).attr("align","center")},e(t,function(){setTimeout(r,100)})}),S.click(function(e){e.preventDefault(),p=i(e),B.val(p),y.hide(),T.show()}),N.click(function(e){e.preventDefault();var n=t.trim(B.val());n&&i(e,n),setTimeout(r)}),R.click(function(e){e.preventDefault(),B.val(p),y.show(),T.hide()}),M.click(function(e){e.preventDefault(),i(e,""),setTimeout(r)})}function a(){function t(e){var t,r;t=e.pageX-i,r=e.pageY-n;var d=o+t,m=a+r;b.css({"margin-left":d,"margin-top":m});var s=c+t,f=l+r;u&&u.css({width:s,height:f})}var i,n,o,a,c,l;b.on("mousedown",function(d){u&&(i=d.pageX,n=d.pageY,o=parseFloat(b.css("margin-left"),10),a=parseFloat(b.css("margin-top"),10),c=u.width(),l=u.height(),w.hide(),e.$document.on("mousemove._dragResizeImg",t),e.$document.on("mouseup._dragResizeImg",function(t){e.$document.off("mousemove._dragResizeImg"),e.$document.off("mouseup._dragResizeImg"),r(),b.css({"margin-left":o,"margin-top":a}),D=!1}),D=!0)})}function c(){if(!d._disabled&&null!=u){u.addClass("clicked");var e=u.position(),t=e.top,i=e.left,n=u.outerHeight(),o=u.outerWidth();b.css({top:t+n,left:i+o});var a=t+n,c=i,r=0,l=h.position().top,m=h.outerHeight();a>l+m?a=l+m:b.show(),w.show();r=o/2-w.outerWidth()/2,w.css({top:a+5,left:c,"margin-left":r}),r<0?(w.css("margin-left","0"),x.hide()):x.show(),d.disableMenusExcept()}}function r(){null!=u&&(u.removeClass("clicked"),u=null,w.hide(),b.hide(),d.enableMenusExcept())}function l(e){var i=!1;return d.emotionUrls?(t.each(d.emotionUrls,function(t,n){var o=!1;if(e===n&&(i=!0,o=!0),o)return!1}),i):i}var u,d=this,m=d.config.lang,s=d.txt,f=s.$txt,g="",h=d.useMaxHeight?f.parent():f,p=(d.$editorContainer,""),v=!1,b=t('<div class="img-drag-point"></div>'),w=t('<div class="txt-toolbar"></div>'),x=t('<div class="tip-triangle"></div>'),y=t("<div></div>"),_=t('<a href="#"><i class="wangeditor-menu-img-trash-o"></i></a>'),k=t('<a href="#"><i class="wangeditor-menu-img-search-minus"></i></a>'),j=t('<a href="#"><i class="wangeditor-menu-img-search-plus"></i></a>'),C=t('<a href="#"><i class="wangeditor-menu-img-align-left"></i></a>'),E=t('<a href="#"><i class="wangeditor-menu-img-align-center"></i></a>'),$=t('<a href="#"><i class="wangeditor-menu-img-align-right"></i></a>'),S=t('<a href="#"><i class="wangeditor-menu-img-link"></i></a>'),M=t('<a href="#"><i class="wangeditor-menu-img-unlink"></i></a>'),T=t('<div style="display:none;"></div>'),B=t('<input type="text" style="height:26px; margin-left:10px; width:200px;"/>'),N=t('<button class="right">'+m.submit+"</button>"),R=t('<button class="right gray">'+m.cancel+"</button>"),D=!1;h.on("mousedown","img",function(e){e.preventDefault()}).on("click","img",function(e){var i=t(e.currentTarget),o=i.attr("src");if(o&&!l(o)){if(n(),u&&u.get(0)===i.get(0))return void setTimeout(r,100);u=i,c(),y.show(),T.hide(),e.preventDefault(),e.stopPropagation()}}).on("click keydown scroll",function(e){D||setTimeout(r,100)})})}),t(function(e,t){e.plugin(function(){function e(){c||(f.append(g).append(h),d.$editorContainer.append(f),c=!0)}function i(){if(a){var e=a.position(),t=e.left,i=e.top,n=a.height(),o=i+n+5,c=d.menuContainer.height(),r=d.txt.$txt.outerHeight();o>c+r&&(o=c+r+5),f.css({top:o,left:t})}}function n(){if(!p&&a){e(),f.show();var t=a.attr("href");h.attr("href",t),i(),p=!0}}function o(){p&&a&&(f.hide(),p=!1)}var a,c,r,l,u,d=this,m=d.config.lang,s=d.txt.$txt,f=t('<div class="txt-toolbar"></div>'),g=t('<div class="tip-triangle"></div>'),h=t('<a href="#" target="_blank"><i class="wangeditor-menu-img-link"></i> '+m.openLink+"</a>"),p=!1;s.on("mouseenter","a",function(e){r&&clearTimeout(r),r=setTimeout(function(){var i=e.currentTarget,c=t(i);a=c;var r=c.children("img");r.length&&(r.click(function(e){o()}),r.hasClass("clicked"))||n()},500)}).on("mouseleave","a",function(e){l&&clearTimeout(l),l=setTimeout(o,500)}).on("click keydown scroll",function(e){setTimeout(o,100)}),f.on("mouseenter",function(e){l&&clearTimeout(l)}).on("mouseleave",function(e){u&&clearTimeout(u),u=setTimeout(o,500)})})}),t(function(e,t){e.plugin(function(){var t=this,i=t.config.menuFixed;if(!1!==i&&"number"==typeof i){var n=parseFloat(e.$body.css("margin-top"),10);isNaN(n)&&(n=0);var o=t.$editorContainer,a=o.offset().top,c=o.outerHeight(),r=t.menuContainer.$menuContainer,l=r.css("position"),u=r.css("top"),d=r.offset().top,m=r.outerHeight();t.txt.$txt;e.$window.scroll(function(){if(!t.isFullScreen){var s=e.$window.scrollTop(),f=r.width();0===d&&(d=r.offset().top,a=o.offset().top,c=o.outerHeight(),m=r.outerHeight()),s>=d&&s+i+m+30<a+c?(r.css({position:"fixed",top:i}),r.width(f),e.$body.css({"margin-top":n+m}),t._isMenufixed||(t._isMenufixed=!0)):(r.css({position:l,top:u}),r.css("width","100%"),e.$body.css({"margin-top":n}),t._isMenufixed&&(t._isMenufixed=!1))}})}})}),t(function(e,t){e.createMenu(function(i){if(i("indent")){var n=this,o=new e.Menu({editor:n,id:"indent",title:"缩进",$domNormal:t('<a href="#" tabindex="-1"><i class="wangeditor-menu-img-indent-left"></i></a>'),$domSelected:t('<a href="#" tabindex="-1" class="selected"><i class="wangeditor-menu-img-indent-left"></i></a>')});o.clickEvent=function(e){function i(){o.css("text-indent","2em")}var o,a=n.getRangeElem(),c=n.getSelfOrParentByName(a,"p");if(!c)return e.preventDefault();o=t(c),n.customCommand(e,i)},o.clickEventSelected=function(e){function i(){o.css("text-indent","0")}var o,a=n.getRangeElem(),c=n.getSelfOrParentByName(a,"p");if(!c)return e.preventDefault();o=t(c),n.customCommand(e,i)},o.updateSelectedEvent=function(){var e,i,o=n.getRangeElem(),a=n.getSelfOrParentByName(o,"p");return!!a&&(e=t(a),!(!(i=e.css("text-indent"))||"0px"===i))},n.menus.indent=o}})}),t(function(e,t){e.createMenu(function(i){if(i("lineheight")){var n=this;n.commandHooks.lineHeight=function(e){var i=n.getRangeElem(),o=n.getSelfOrParentByName(i,"p,h1,h2,h3,h4,h5,pre");o&&t(o).css("line-height",e+"")};var o=new e.Menu({editor:n,id:"lineheight",title:"行高",commandName:"lineHeight",$domNormal:t('<a href="#" tabindex="-1"><i class="wangeditor-menu-img-arrows-v"></i></a>'),$domSelected:t('<a href="#" tabindex="-1" class="selected"><i class="wangeditor-menu-img-arrows-v"></i></a>')}),a={"1.0":"1.0倍",1.5:"1.5倍",1.8:"1.8倍","2.0":"2.0倍",2.5:"2.5倍","3.0":"3.0倍"};o.dropList=new e.DropList(n,o,{data:a,tpl:'<span style="line-height:{#commandValue}">{#title}</span>'}),n.menus.lineheight=o}})}),t(function(e,t){e.plugin(function(){var i=this;if(i.config.customUpload){if(i.config.uploadImgUrl)return alert("自定义上传无效，详看浏览器日志console.log"),void e.error("已经配置了 uploadImgUrl ，就不能再配置 customUpload ，两者冲突。将导致自定义上传无效。");var n=i.$uploadContent;n||e.error("自定义上传，无法获取 editor.$uploadContent");var o=t('<div class="upload-icon-container"><i class="wangeditor-menu-img-upload"></i></div>');n.append(o);var a="upload"+e.random(),c="upload"+e.random();o.attr("id",a),n.attr("id",c),i.customUploadBtnId=a,i.customUploadContainerId=c}})}),t(function(e,t){e.info("本页面富文本编辑器由 wangEditor 提供 http://wangeditor.github.io/ ")}),window.wangEditor})}).call(t,i(0))},46:function(e,t,i){"use strict";(function(e){i(1),i(4);var t=i(6),n=i(3),o=e("#content-textarea");if(o.length>0)var a=new t(o);!function(e){e("#is_original").change(function(){1==e(this).val()?e("#reprint").hide():e("#reprint").show()});var t=e("#add-post-form");t.validate({errorClass:"error-message",errorPlacement:function(t,i){e(i).closest("form-control").addClass("has-error"),t.insertAfter(e(i))},rules:{title:{required:!0,minlength:5},category_id:{required:!0},"article[content]":{required:!0,minlength:300},reprint_address:{url:!0}},messages:{title:{required:"请输入标题!",minlength:"标题不得小于5个字"},category_id:{required:"请选择投稿的分类!"},"article[content]":{required:"文章内容不得为空",minlength:"文章长度不得少于300字"},reprint_address:{url:"原文地址不是合法的url"}}}),t.on("submit",function(){var t=a.$txt.formatText();if(0==e.trim(t).length)return n.dialog.msg("请填写内容"),!1})}(e)}).call(t,i(0))},6:function(e,t,i){(function(t){function n(e){return t.map(e,function(e){return e.value="["+e.value+"]",e})}function o(e,i){i=t.merge({toolbar:["link","unlink","eraser","quote","|","emotion","img","video","location","|","insertcode"],element:e,upload:!0},i),a.config.printLog=!1;var o=new a(i.element);return o.config.menus=i.toolbar,o.config.uploadImgUrl="/attachments/add?src=wangeditor",o.config.uploadParams={token:c.getToken(),user:c.getAuthUser()},o.config.uploadImgFileName="upfile",o.config.emotions={baiduPaoPao:{title:"泡泡",data:n(r.getEmotion("baidu.pp"))},baiduTuzik:{title:"兔斯基",data:n(r.getEmotion("baidu.tsj"))},youkuDefault:{title:"优酷",data:n(r.getEmotion("youku.default"))}},o.create(),o}var a=i(20),c=i(3),r=i(9);e.exports=o}).call(t,i(2))},9:function(e,t,i){"use strict";(function(t){var i={};t('td[class^="edui-emotion"]').each(function(){var e=t(this),n=e.attr("class").replace("edui-emotion-",""),o=e.data("realurl");void 0===i[n]&&(i[n]=[]);var a=e.find("img").attr("title");i[n].push({value:a,icon:o})}),console.log(i);var n={jd:[{value:"Kiss",icon:"http://img.baidu.com/hi/jx2/j_0001.gif"},{value:"Love",icon:"http://img.baidu.com/hi/jx2/j_0002.gif"},{value:"Yeah",icon:"http://img.baidu.com/hi/jx2/j_0003.gif"},{value:"啊！",icon:"http://img.baidu.com/hi/jx2/j_0004.gif"},{value:"背扭",icon:"http://img.baidu.com/hi/jx2/j_0005.gif"},{value:"顶",icon:"http://img.baidu.com/hi/jx2/j_0006.gif"},{value:"抖胸",icon:"http://img.baidu.com/hi/jx2/j_0007.gif"},{value:"88",icon:"http://img.baidu.com/hi/jx2/j_0008.gif"},{value:"汗",icon:"http://img.baidu.com/hi/jx2/j_0009.gif"},{value:"瞌睡",icon:"http://img.baidu.com/hi/jx2/j_0010.gif"},{value:"鲁拉",icon:"http://img.baidu.com/hi/jx2/j_0011.gif"},{value:"拍砖",icon:"http://img.baidu.com/hi/jx2/j_0012.gif"},{value:"揉脸",icon:"http://img.baidu.com/hi/jx2/j_0013.gif"},{value:"生日快乐",icon:"http://img.baidu.com/hi/jx2/j_0014.gif"},{value:"大笑",icon:"http://img.baidu.com/hi/jx2/j_0015.gif"},{value:"瀑布汗~",icon:"http://img.baidu.com/hi/jx2/j_0016.gif"},{value:"惊讶",icon:"http://img.baidu.com/hi/jx2/j_0017.gif"},{value:"臭美",icon:"http://img.baidu.com/hi/jx2/j_0018.gif"},{value:"傻笑",icon:"http://img.baidu.com/hi/jx2/j_0019.gif"},{value:"抛媚眼",icon:"http://img.baidu.com/hi/jx2/j_0020.gif"},{value:"发怒",icon:"http://img.baidu.com/hi/jx2/j_0021.gif"},{value:"打酱油",icon:"http://img.baidu.com/hi/jx2/j_0022.gif"},{value:"俯卧撑",icon:"http://img.baidu.com/hi/jx2/j_0023.gif"},{value:"气愤",icon:"http://img.baidu.com/hi/jx2/j_0024.gif"},{value:"?",icon:"http://img.baidu.com/hi/jx2/j_0025.gif"},{value:"吻",icon:"http://img.baidu.com/hi/jx2/j_0026.gif"},{value:"怒",icon:"http://img.baidu.com/hi/jx2/j_0027.gif"},{value:"胜利",icon:"http://img.baidu.com/hi/jx2/j_0028.gif"},{value:"HI",icon:"http://img.baidu.com/hi/jx2/j_0029.gif"},{value:"KISS",icon:"http://img.baidu.com/hi/jx2/j_0030.gif"},{value:"不说",icon:"http://img.baidu.com/hi/jx2/j_0031.gif"},{value:"不要",icon:"http://img.baidu.com/hi/jx2/j_0032.gif"},{value:"扯花",icon:"http://img.baidu.com/hi/jx2/j_0033.gif"},{value:"大心",icon:"http://img.baidu.com/hi/jx2/j_0034.gif"},{value:"顶",icon:"http://img.baidu.com/hi/jx2/j_0035.gif"},{value:"大惊",icon:"http://img.baidu.com/hi/jx2/j_0036.gif"},{value:"飞吻",icon:"http://img.baidu.com/hi/jx2/j_0037.gif"},{value:"鬼脸",icon:"http://img.baidu.com/hi/jx2/j_0038.gif"},{value:"害羞",icon:"http://img.baidu.com/hi/jx2/j_0039.gif"},{value:"口水",icon:"http://img.baidu.com/hi/jx2/j_0040.gif"},{value:"狂哭",icon:"http://img.baidu.com/hi/jx2/j_0041.gif"},{value:"来",icon:"http://img.baidu.com/hi/jx2/j_0042.gif"},{value:"发财了",icon:"http://img.baidu.com/hi/jx2/j_0043.gif"},{value:"吃西瓜",icon:"http://img.baidu.com/hi/jx2/j_0044.gif"},{value:"套牢",icon:"http://img.baidu.com/hi/jx2/j_0045.gif"},{value:"害羞",icon:"http://img.baidu.com/hi/jx2/j_0046.gif"},{value:"庆祝",icon:"http://img.baidu.com/hi/jx2/j_0047.gif"},{value:"我来了",icon:"http://img.baidu.com/hi/jx2/j_0048.gif"},{value:"敲打",icon:"http://img.baidu.com/hi/jx2/j_0049.gif"},{value:"晕了",icon:"http://img.baidu.com/hi/jx2/j_0050.gif"},{value:"胜利",icon:"http://img.baidu.com/hi/jx2/j_0051.gif"},{value:"臭美",icon:"http://img.baidu.com/hi/jx2/j_0052.gif"},{value:"被打了",icon:"http://img.baidu.com/hi/jx2/j_0053.gif"},{value:"贪吃",icon:"http://img.baidu.com/hi/jx2/j_0054.gif"},{value:"迎接",icon:"http://img.baidu.com/hi/jx2/j_0055.gif"},{value:"酷",icon:"http://img.baidu.com/hi/jx2/j_0056.gif"},{value:"微笑",icon:"http://img.baidu.com/hi/jx2/j_0057.gif"},{value:"亲吻",icon:"http://img.baidu.com/hi/jx2/j_0058.gif"},{value:"调皮",icon:"http://img.baidu.com/hi/jx2/j_0059.gif"},{value:"惊恐",icon:"http://img.baidu.com/hi/jx2/j_0060.gif"},{value:"耍酷",icon:"http://img.baidu.com/hi/jx2/j_0061.gif"},{value:"发火",icon:"http://img.baidu.com/hi/jx2/j_0062.gif"},{value:"害羞",icon:"http://img.baidu.com/hi/jx2/j_0063.gif"},{value:"汗水",icon:"http://img.baidu.com/hi/jx2/j_0064.gif"},{value:"大哭",icon:"http://img.baidu.com/hi/jx2/j_0065.gif"},{value:"",icon:"http://img.baidu.com/hi/jx2/j_0066.gif"},{value:"加油",icon:"http://img.baidu.com/hi/jx2/j_0067.gif"},{value:"困",icon:"http://img.baidu.com/hi/jx2/j_0068.gif"},{value:"你NB",icon:"http://img.baidu.com/hi/jx2/j_0069.gif"},{value:"晕倒",icon:"http://img.baidu.com/hi/jx2/j_0070.gif"},{value:"开心",icon:"http://img.baidu.com/hi/jx2/j_0071.gif"},{value:"偷笑",icon:"http://img.baidu.com/hi/jx2/j_0072.gif"},{value:"大哭",icon:"http://img.baidu.com/hi/jx2/j_0073.gif"},{value:"滴汗",icon:"http://img.baidu.com/hi/jx2/j_0074.gif"},{value:"叹气",icon:"http://img.baidu.com/hi/jx2/j_0075.gif"},{value:"超赞",icon:"http://img.baidu.com/hi/jx2/j_0076.gif"},{value:"??",icon:"http://img.baidu.com/hi/jx2/j_0077.gif"},{value:"飞吻",icon:"http://img.baidu.com/hi/jx2/j_0078.gif"},{value:"天使",icon:"http://img.baidu.com/hi/jx2/j_0079.gif"},{value:"撒花",icon:"http://img.baidu.com/hi/jx2/j_0080.gif"},{value:"生气",icon:"http://img.baidu.com/hi/jx2/j_0081.gif"},{value:"被砸",icon:"http://img.baidu.com/hi/jx2/j_0082.gif"},{value:"吓傻",icon:"http://img.baidu.com/hi/jx2/j_0083.gif"},{value:"随意吐",icon:"http://img.baidu.com/hi/jx2/j_0084.gif"}],tsj:[{value:"Kiss",icon:"http://img.baidu.com/hi/tsj/t_0001.gif"},{value:"Love",icon:"http://img.baidu.com/hi/tsj/t_0002.gif"},{value:"Yeah",icon:"http://img.baidu.com/hi/tsj/t_0003.gif"},{value:"啊！",icon:"http://img.baidu.com/hi/tsj/t_0004.gif"},{value:"背扭",icon:"http://img.baidu.com/hi/tsj/t_0005.gif"},{value:"顶",icon:"http://img.baidu.com/hi/tsj/t_0006.gif"},{value:"抖胸",icon:"http://img.baidu.com/hi/tsj/t_0007.gif"},{value:"88",icon:"http://img.baidu.com/hi/tsj/t_0008.gif"},{value:"汗",icon:"http://img.baidu.com/hi/tsj/t_0009.gif"},{value:"瞌睡",icon:"http://img.baidu.com/hi/tsj/t_0010.gif"},{value:"鲁拉",icon:"http://img.baidu.com/hi/tsj/t_0011.gif"},{value:"拍砖",icon:"http://img.baidu.com/hi/tsj/t_0012.gif"},{value:"揉脸",icon:"http://img.baidu.com/hi/tsj/t_0013.gif"},{value:"生日快乐",icon:"http://img.baidu.com/hi/tsj/t_0014.gif"},{value:"摊手",icon:"http://img.baidu.com/hi/tsj/t_0015.gif"},{value:"睡觉",icon:"http://img.baidu.com/hi/tsj/t_0016.gif"},{value:"瘫坐",icon:"http://img.baidu.com/hi/tsj/t_0017.gif"},{value:"无聊",icon:"http://img.baidu.com/hi/tsj/t_0018.gif"},{value:"星星闪",icon:"http://img.baidu.com/hi/tsj/t_0019.gif"},{value:"旋转",icon:"http://img.baidu.com/hi/tsj/t_0020.gif"},{value:"也不行",icon:"http://img.baidu.com/hi/tsj/t_0021.gif"},{value:"郁闷",icon:"http://img.baidu.com/hi/tsj/t_0022.gif"},{value:"正Music",icon:"http://img.baidu.com/hi/tsj/t_0023.gif"},{value:"抓墙",icon:"http://img.baidu.com/hi/tsj/t_0024.gif"},{value:"撞墙至死",icon:"http://img.baidu.com/hi/tsj/t_0025.gif"},{value:"歪头",icon:"http://img.baidu.com/hi/tsj/t_0026.gif"},{value:"戳眼",icon:"http://img.baidu.com/hi/tsj/t_0027.gif"},{value:"飘过",icon:"http://img.baidu.com/hi/tsj/t_0028.gif"},{value:"互相拍砖",icon:"http://img.baidu.com/hi/tsj/t_0029.gif"},{value:"砍死你",icon:"http://img.baidu.com/hi/tsj/t_0030.gif"},{value:"扔桌子",icon:"http://img.baidu.com/hi/tsj/t_0031.gif"},{value:"少林寺",icon:"http://img.baidu.com/hi/tsj/t_0032.gif"},{value:"什么？",icon:"http://img.baidu.com/hi/tsj/t_0033.gif"},{value:"转头",icon:"http://img.baidu.com/hi/tsj/t_0034.gif"},{value:"我爱牛奶",icon:"http://img.baidu.com/hi/tsj/t_0035.gif"},{value:"我踢",icon:"http://img.baidu.com/hi/tsj/t_0036.gif"},{value:"摇晃",icon:"http://img.baidu.com/hi/tsj/t_0037.gif"},{value:"晕厥",icon:"http://img.baidu.com/hi/tsj/t_0038.gif"},{value:"在笼子里",icon:"http://img.baidu.com/hi/tsj/t_0039.gif"},{value:"震荡",icon:"http://img.baidu.com/hi/tsj/t_0040.gif"}],ldw:[{value:"大笑",icon:"http://img.baidu.com/hi/ldw/w_0001.gif"},{value:"瀑布汗~",icon:"http://img.baidu.com/hi/ldw/w_0002.gif"},{value:"惊讶",icon:"http://img.baidu.com/hi/ldw/w_0003.gif"},{value:"臭美",icon:"http://img.baidu.com/hi/ldw/w_0004.gif"},{value:"傻笑",icon:"http://img.baidu.com/hi/ldw/w_0005.gif"},{value:"抛媚眼",icon:"http://img.baidu.com/hi/ldw/w_0006.gif"},{value:"发怒",icon:"http://img.baidu.com/hi/ldw/w_0007.gif"},{value:"我错了",icon:"http://img.baidu.com/hi/ldw/w_0008.gif"},{value:"money",icon:"http://img.baidu.com/hi/ldw/w_0009.gif"},{value:"气愤",icon:"http://img.baidu.com/hi/ldw/w_0010.gif"},{value:"挑逗",icon:"http://img.baidu.com/hi/ldw/w_0011.gif"},{value:"吻",icon:"http://img.baidu.com/hi/ldw/w_0012.gif"},{value:"怒",icon:"http://img.baidu.com/hi/ldw/w_0013.gif"},{value:"胜利",icon:"http://img.baidu.com/hi/ldw/w_0014.gif"},{value:"委屈",icon:"http://img.baidu.com/hi/ldw/w_0015.gif"},{value:"受伤",icon:"http://img.baidu.com/hi/ldw/w_0016.gif"},{value:"说啥呢？",icon:"http://img.baidu.com/hi/ldw/w_0017.gif"},{value:"闭嘴",icon:"http://img.baidu.com/hi/ldw/w_0018.gif"},{value:"不",icon:"http://img.baidu.com/hi/ldw/w_0019.gif"},{value:"逗你玩儿",icon:"http://img.baidu.com/hi/ldw/w_0020.gif"},{value:"飞吻",icon:"http://img.baidu.com/hi/ldw/w_0021.gif"},{value:"眩晕",icon:"http://img.baidu.com/hi/ldw/w_0022.gif"},{value:"魔法",icon:"http://img.baidu.com/hi/ldw/w_0023.gif"},{value:"我来了",icon:"http://img.baidu.com/hi/ldw/w_0024.gif"},{value:"睡了",icon:"http://img.baidu.com/hi/ldw/w_0025.gif"},{value:"我打",icon:"http://img.baidu.com/hi/ldw/w_0026.gif"},{value:"闭嘴",icon:"http://img.baidu.com/hi/ldw/w_0027.gif"},{value:"打",icon:"http://img.baidu.com/hi/ldw/w_0028.gif"},{value:"打晕了",icon:"http://img.baidu.com/hi/ldw/w_0029.gif"},{value:"刷牙",icon:"http://img.baidu.com/hi/ldw/w_0030.gif"},{value:"爆揍",icon:"http://img.baidu.com/hi/ldw/w_0031.gif"},{value:"炸弹",icon:"http://img.baidu.com/hi/ldw/w_0032.gif"},{value:"倒立",icon:"http://img.baidu.com/hi/ldw/w_0033.gif"},{value:"刮胡子",icon:"http://img.baidu.com/hi/ldw/w_0034.gif"},{value:"邪恶的笑",icon:"http://img.baidu.com/hi/ldw/w_0035.gif"},{value:"不要不要",icon:"http://img.baidu.com/hi/ldw/w_0036.gif"},{value:"爱恋中",icon:"http://img.baidu.com/hi/ldw/w_0037.gif"},{value:"放大仔细看",icon:"http://img.baidu.com/hi/ldw/w_0038.gif"},{value:"偷窥",icon:"http://img.baidu.com/hi/ldw/w_0039.gif"},{value:"超高兴",icon:"http://img.baidu.com/hi/ldw/w_0040.gif"},{value:"晕",icon:"http://img.baidu.com/hi/ldw/w_0041.gif"},{value:"松口气",icon:"http://img.baidu.com/hi/ldw/w_0042.gif"},{value:"我跑",icon:"http://img.baidu.com/hi/ldw/w_0043.gif"},{value:"享受",icon:"http://img.baidu.com/hi/ldw/w_0044.gif"},{value:"修养",icon:"http://img.baidu.com/hi/ldw/w_0045.gif"},{value:"哭",icon:"http://img.baidu.com/hi/ldw/w_0046.gif"},{value:"汗",icon:"http://img.baidu.com/hi/ldw/w_0047.gif"},{value:"啊~",icon:"http://img.baidu.com/hi/ldw/w_0048.gif"},{value:"热烈欢迎",icon:"http://img.baidu.com/hi/ldw/w_0049.gif"},{value:"打酱油",icon:"http://img.baidu.com/hi/ldw/w_0050.gif"},{value:"俯卧撑",icon:"http://img.baidu.com/hi/ldw/w_0051.gif"},{value:"?",icon:"http://img.baidu.com/hi/ldw/w_0052.gif"}],bb:[{value:"HI",icon:"http://img.baidu.com/hi/bobo/B_0001.gif"},{value:"KISS",icon:"http://img.baidu.com/hi/bobo/B_0002.gif"},{value:"不说",icon:"http://img.baidu.com/hi/bobo/B_0003.gif"},{value:"不要",icon:"http://img.baidu.com/hi/bobo/B_0004.gif"},{value:"扯花",icon:"http://img.baidu.com/hi/bobo/B_0005.gif"},{value:"大心",icon:"http://img.baidu.com/hi/bobo/B_0006.gif"},{value:"顶",icon:"http://img.baidu.com/hi/bobo/B_0007.gif"},{value:"大惊",icon:"http://img.baidu.com/hi/bobo/B_0008.gif"},{value:"飞吻",icon:"http://img.baidu.com/hi/bobo/B_0009.gif"},{value:"鬼脸",icon:"http://img.baidu.com/hi/bobo/B_0010.gif"},{value:"害羞",icon:"http://img.baidu.com/hi/bobo/B_0011.gif"},{value:"口水",icon:"http://img.baidu.com/hi/bobo/B_0012.gif"},{value:"狂哭",icon:"http://img.baidu.com/hi/bobo/B_0013.gif"},{value:"来",icon:"http://img.baidu.com/hi/bobo/B_0014.gif"},{value:"泪眼",icon:"http://img.baidu.com/hi/bobo/B_0015.gif"},{value:"流泪",icon:"http://img.baidu.com/hi/bobo/B_0016.gif"},{value:"生气",icon:"http://img.baidu.com/hi/bobo/B_0017.gif"},{value:"吐舌",icon:"http://img.baidu.com/hi/bobo/B_0018.gif"},{value:"喜欢",icon:"http://img.baidu.com/hi/bobo/B_0019.gif"},{value:"旋转",icon:"http://img.baidu.com/hi/bobo/B_0020.gif"},{value:"再见",icon:"http://img.baidu.com/hi/bobo/B_0021.gif"},{value:"抓狂",icon:"http://img.baidu.com/hi/bobo/B_0022.gif"},{value:"汗",icon:"http://img.baidu.com/hi/bobo/B_0023.gif"},{value:"鄙视",icon:"http://img.baidu.com/hi/bobo/B_0024.gif"},{value:"拜",icon:"http://img.baidu.com/hi/bobo/B_0025.gif"},{value:"吐血",icon:"http://img.baidu.com/hi/bobo/B_0026.gif"},{value:"嘘",icon:"http://img.baidu.com/hi/bobo/B_0027.gif"},{value:"打人",icon:"http://img.baidu.com/hi/bobo/B_0028.gif"},{value:"蹦跳",icon:"http://img.baidu.com/hi/bobo/B_0029.gif"},{value:"变脸",icon:"http://img.baidu.com/hi/bobo/B_0030.gif"},{value:"扯肉",icon:"http://img.baidu.com/hi/bobo/B_0031.gif"},{value:"吃To",icon:"http://img.baidu.com/hi/bobo/B_0032.gif"},{value:"吃花",icon:"http://img.baidu.com/hi/bobo/B_0033.gif"},{value:"吹泡泡糖",icon:"http://img.baidu.com/hi/bobo/B_0034.gif"},{value:"大变身",icon:"http://img.baidu.com/hi/bobo/B_0035.gif"},{value:"飞天舞",icon:"http://img.baidu.com/hi/bobo/B_0036.gif"},{value:"回眸",icon:"http://img.baidu.com/hi/bobo/B_0037.gif"},{value:"可怜",icon:"http://img.baidu.com/hi/bobo/B_0038.gif"},{value:"猛抽",icon:"http://img.baidu.com/hi/bobo/B_0039.gif"},{value:"泡泡",icon:"http://img.baidu.com/hi/bobo/B_0040.gif"},{value:"苹果",icon:"http://img.baidu.com/hi/bobo/B_0041.gif"},{value:"亲",icon:"http://img.baidu.com/hi/bobo/B_0042.gif"},{value:"",icon:"http://img.baidu.com/hi/bobo/B_0043.gif"},{value:"骚舞",icon:"http://img.baidu.com/hi/bobo/B_0044.gif"},{value:"烧香",icon:"http://img.baidu.com/hi/bobo/B_0045.gif"},{value:"睡",icon:"http://img.baidu.com/hi/bobo/B_0046.gif"},{value:"套娃娃",icon:"http://img.baidu.com/hi/bobo/B_0047.gif"},{value:"捅捅",icon:"http://img.baidu.com/hi/bobo/B_0048.gif"},{value:"舞倒",icon:"http://img.baidu.com/hi/bobo/B_0049.gif"},{value:"西红柿",icon:"http://img.baidu.com/hi/bobo/B_0050.gif"},{value:"爱慕",icon:"http://img.baidu.com/hi/bobo/B_0051.gif"},{value:"摇",icon:"http://img.baidu.com/hi/bobo/B_0052.gif"},{value:"摇摆",icon:"http://img.baidu.com/hi/bobo/B_0053.gif"},{value:"杂耍",icon:"http://img.baidu.com/hi/bobo/B_0054.gif"},{value:"招财",icon:"http://img.baidu.com/hi/bobo/B_0055.gif"},{value:"被殴",icon:"http://img.baidu.com/hi/bobo/B_0056.gif"},{value:"被球闷",icon:"http://img.baidu.com/hi/bobo/B_0057.gif"},{value:"大惊",icon:"http://img.baidu.com/hi/bobo/B_0058.gif"},{value:"理想",icon:"http://img.baidu.com/hi/bobo/B_0059.gif"},{value:"欧打",icon:"http://img.baidu.com/hi/bobo/B_0060.gif"},{value:"呕吐",icon:"http://img.baidu.com/hi/bobo/B_0061.gif"},{value:"碎",icon:"http://img.baidu.com/hi/bobo/B_0062.gif"},{value:"吐痰",icon:"http://img.baidu.com/hi/bobo/B_0063.gif"}],cat:[{value:"发财了",icon:"http://img.baidu.com/hi/babycat/C_0001.gif"},{value:"吃西瓜",icon:"http://img.baidu.com/hi/babycat/C_0002.gif"},{value:"套牢",icon:"http://img.baidu.com/hi/babycat/C_0003.gif"},{value:"害羞",icon:"http://img.baidu.com/hi/babycat/C_0004.gif"},{value:"庆祝",icon:"http://img.baidu.com/hi/babycat/C_0005.gif"},{value:"我来了",icon:"http://img.baidu.com/hi/babycat/C_0006.gif"},{value:"敲打",icon:"http://img.baidu.com/hi/babycat/C_0007.gif"},{value:"晕了",icon:"http://img.baidu.com/hi/babycat/C_0008.gif"},{value:"胜利",icon:"http://img.baidu.com/hi/babycat/C_0009.gif"},{value:"臭美",icon:"http://img.baidu.com/hi/babycat/C_0010.gif"},{value:"被打了",icon:"http://img.baidu.com/hi/babycat/C_0011.gif"},{value:"贪吃",icon:"http://img.baidu.com/hi/babycat/C_0012.gif"},{value:"迎接",icon:"http://img.baidu.com/hi/babycat/C_0013.gif"},{value:"酷",icon:"http://img.baidu.com/hi/babycat/C_0014.gif"},{value:"顶",icon:"http://img.baidu.com/hi/babycat/C_0015.gif"},{value:"幸运",icon:"http://img.baidu.com/hi/babycat/C_0016.gif"},{value:"爱心",icon:"http://img.baidu.com/hi/babycat/C_0017.gif"},{value:"躲",icon:"http://img.baidu.com/hi/babycat/C_0018.gif"},{value:"送花",icon:"http://img.baidu.com/hi/babycat/C_0019.gif"},{value:"选择",icon:"http://img.baidu.com/hi/babycat/C_0020.gif"}],pp:[{value:"微笑",icon:"http://img.baidu.com/hi/face/i_f01.gif"},{value:"亲吻",icon:"http://img.baidu.com/hi/face/i_f02.gif"},{value:"调皮",icon:"http://img.baidu.com/hi/face/i_f03.gif"},{value:"惊讶",icon:"http://img.baidu.com/hi/face/i_f04.gif"},{value:"耍酷",icon:"http://img.baidu.com/hi/face/i_f05.gif"},{value:"发火",icon:"http://img.baidu.com/hi/face/i_f06.gif"},{value:"害羞",icon:"http://img.baidu.com/hi/face/i_f07.gif"},{value:"汗水",icon:"http://img.baidu.com/hi/face/i_f08.gif"},{value:"大哭",icon:"http://img.baidu.com/hi/face/i_f09.gif"},{value:"得意",icon:"http://img.baidu.com/hi/face/i_f10.gif"},{value:"鄙视",icon:"http://img.baidu.com/hi/face/i_f11.gif"},{value:"困",icon:"http://img.baidu.com/hi/face/i_f12.gif"},{value:"夸奖",icon:"http://img.baidu.com/hi/face/i_f13.gif"},{value:"晕倒",icon:"http://img.baidu.com/hi/face/i_f14.gif"},{value:"疑问",icon:"http://img.baidu.com/hi/face/i_f15.gif"},{value:"媒婆",icon:"http://img.baidu.com/hi/face/i_f16.gif"},{value:"狂吐",icon:"http://img.baidu.com/hi/face/i_f17.gif"},{value:"青蛙",icon:"http://img.baidu.com/hi/face/i_f18.gif"},{value:"发愁",icon:"http://img.baidu.com/hi/face/i_f19.gif"},{value:"亲吻",icon:"http://img.baidu.com/hi/face/i_f20.gif"},{value:"",icon:"http://img.baidu.com/hi/face/i_f21.gif"},{value:"爱心",icon:"http://img.baidu.com/hi/face/i_f22.gif"},{value:"心碎",icon:"http://img.baidu.com/hi/face/i_f23.gif"},{value:"玫瑰",icon:"http://img.baidu.com/hi/face/i_f24.gif"},{value:"礼物",icon:"http://img.baidu.com/hi/face/i_f25.gif"},{value:"哭",icon:"http://img.baidu.com/hi/face/i_f26.gif"},{value:"奸笑",icon:"http://img.baidu.com/hi/face/i_f27.gif"},{value:"可爱",icon:"http://img.baidu.com/hi/face/i_f28.gif"},{value:"得意",icon:"http://img.baidu.com/hi/face/i_f29.gif"},{value:"呲牙",icon:"http://img.baidu.com/hi/face/i_f30.gif"},{value:"暴汗",icon:"http://img.baidu.com/hi/face/i_f31.gif"},{value:"楚楚可怜",icon:"http://img.baidu.com/hi/face/i_f32.gif"},{value:"困",icon:"http://img.baidu.com/hi/face/i_f33.gif"},{value:"哭",icon:"http://img.baidu.com/hi/face/i_f34.gif"},{value:"生气",icon:"http://img.baidu.com/hi/face/i_f35.gif"},{value:"惊讶",icon:"http://img.baidu.com/hi/face/i_f36.gif"},{value:"口水",icon:"http://img.baidu.com/hi/face/i_f37.gif"},{value:"彩虹",icon:"http://img.baidu.com/hi/face/i_f38.gif"},{value:"夜空",icon:"http://img.baidu.com/hi/face/i_f39.gif"},{value:"太阳",icon:"http://img.baidu.com/hi/face/i_f40.gif"},{value:"钱钱",icon:"http://img.baidu.com/hi/face/i_f41.gif"},{value:"灯泡",icon:"http://img.baidu.com/hi/face/i_f42.gif"},{value:"咖啡",icon:"http://img.baidu.com/hi/face/i_f43.gif"},{value:"蛋糕",icon:"http://img.baidu.com/hi/face/i_f44.gif"},{value:"音乐",icon:"http://img.baidu.com/hi/face/i_f45.gif"},{value:"爱",icon:"http://img.baidu.com/hi/face/i_f46.gif"},{value:"胜利",icon:"http://img.baidu.com/hi/face/i_f47.gif"},{value:"赞",icon:"http://img.baidu.com/hi/face/i_f48.gif"},{value:"鄙视",icon:"http://img.baidu.com/hi/face/i_f49.gif"},{value:"OK",icon:"http://img.baidu.com/hi/face/i_f50.gif"}],youa:[{value:"男兜",icon:"http://img.baidu.com/hi/youa/y_0001.gif"},{value:"女兜",icon:"http://img.baidu.com/hi/youa/y_0002.gif"},{value:"开心",icon:"http://img.baidu.com/hi/youa/y_0003.gif"},{value:"乖乖",icon:"http://img.baidu.com/hi/youa/y_0004.gif"},{value:"偷笑",icon:"http://img.baidu.com/hi/youa/y_0005.gif"},{value:"大笑",icon:"http://img.baidu.com/hi/youa/y_0006.gif"},{value:"抽泣",icon:"http://img.baidu.com/hi/youa/y_0007.gif"},{value:"大哭",icon:"http://img.baidu.com/hi/youa/y_0008.gif"},{value:"无奈",icon:"http://img.baidu.com/hi/youa/y_0009.gif"},{value:"滴汗",icon:"http://img.baidu.com/hi/youa/y_0010.gif"},{value:"叹气",icon:"http://img.baidu.com/hi/youa/y_0011.gif"},{value:"狂晕",icon:"http://img.baidu.com/hi/youa/y_0012.gif"},{value:"委屈",icon:"http://img.baidu.com/hi/youa/y_0013.gif"},{value:"超赞",icon:"http://img.baidu.com/hi/youa/y_0014.gif"},{value:"??",icon:"http://img.baidu.com/hi/youa/y_0015.gif"},{value:"疑问",icon:"http://img.baidu.com/hi/youa/y_0016.gif"},{value:"飞吻",icon:"http://img.baidu.com/hi/youa/y_0017.gif"},{value:"天使",icon:"http://img.baidu.com/hi/youa/y_0018.gif"},{value:"撒花",icon:"http://img.baidu.com/hi/youa/y_0019.gif"},{value:"生气",icon:"http://img.baidu.com/hi/youa/y_0020.gif"},{value:"被砸",icon:"http://img.baidu.com/hi/youa/y_0021.gif"},{value:"口水",icon:"http://img.baidu.com/hi/youa/y_0022.gif"},{value:"泪奔",icon:"http://img.baidu.com/hi/youa/y_0023.gif"},{value:"吓傻",icon:"http://img.baidu.com/hi/youa/y_0024.gif"},{value:"吐舌头",icon:"http://img.baidu.com/hi/youa/y_0025.gif"},{value:"点头",icon:"http://img.baidu.com/hi/youa/y_0026.gif"},{value:"随意吐",icon:"http://img.baidu.com/hi/youa/y_0027.gif"},{value:"旋转",icon:"http://img.baidu.com/hi/youa/y_0028.gif"},{value:"困困",icon:"http://img.baidu.com/hi/youa/y_0029.gif"},{value:"鄙视",icon:"http://img.baidu.com/hi/youa/y_0030.gif"},{value:"狂顶",icon:"http://img.baidu.com/hi/youa/y_0031.gif"},{value:"篮球",icon:"http://img.baidu.com/hi/youa/y_0032.gif"},{value:"再见",icon:"http://img.baidu.com/hi/youa/y_0033.gif"},{value:"欢迎光临",icon:"http://img.baidu.com/hi/youa/y_0034.gif"},{value:"恭喜发财",icon:"http://img.baidu.com/hi/youa/y_0035.gif"},{value:"稍等",icon:"http://img.baidu.com/hi/youa/y_0036.gif"},{value:"我在线",icon:"http://img.baidu.com/hi/youa/y_0037.gif"},{value:"恕不议价",icon:"http://img.baidu.com/hi/youa/y_0038.gif"},{value:"库房有货",icon:"http://img.baidu.com/hi/youa/y_0039.gif"},{value:"货在路上",icon:"http://img.baidu.com/hi/youa/y_0040.gif"}]},o={default:[{value:"赞",icon:"http://css.ykimg.com/youku/dist/img/comment/smiley/Yo17_b004bfd.gif"},{value:"稀饭",icon:"http://css.ykimg.com/youku/dist/img/comment/smiley/Qoo7_7763f6e.gif"},{value:"愤怒",icon:"http://css.ykimg.com/youku/dist/img/comment/smiley/Qoo4_502d0ea.gif"},{value:"吐",icon:"http://css.ykimg.com/youku/dist/img/comment/smiley/Qoo14_96290a9.gif"},{value:"无语",icon:"http://css.ykimg.com/youku/dist/img/comment/smiley/Qoo5_3759641.gif"},{value:"难过",icon:"http://css.ykimg.com/youku/dist/img/comment/smiley/Yo2_e99eaf1.gif"},{value:"汗",icon:"http://css.ykimg.com/youku/dist/img/comment/smiley/Qoo11_26573f1.gif"},{value:"搞笑",icon:"http://css.ykimg.com/youku/dist/img/comment/smiley/Qoo12_befe041.gif"},{value:"牛",icon:"http://css.ykimg.com/youku/dist/img/comment/smiley/Zoo7_b50c0f1.gif"},{value:"强",icon:"http://css.ykimg.com/youku/dist/img/comment/smiley/Zoo8_92b3fdf.gif"}]},a={emotions:{},append:function(e,t){this.emotions[e]=t},getEmotion:function(e){var t=e.split(".");return 2==t.length?this.emotions[t[0]][t[1]]:1==t.length?this.emotions[t[0]]:void 0}};a.append("baidu",n),a.append("youku",o),e.exports=a}).call(t,i(0))}},[46]);