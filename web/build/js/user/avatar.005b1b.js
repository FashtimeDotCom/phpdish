webpackJsonp([3],{0:function(e,t){e.exports=window.$},2:function(e,t){e.exports=window._},22:function(e,t,n){"use strict";function o(e,t,n){var o=0;e.dmUploader({url:"/attachments/add",dataType:"json",allowedTypes:"image/*",fileName:"upfile",onBeforeUpload:function(e){o=a.dialog.wait()},onUploadSuccess:function(e,n){a.dialog.close(o),t(n)},onUploadError:function(e,t){a.dialog.alert(t),"function"==typeof n&&n(data)},onComplete:function(){a.dialog.close(o)},onFallbackMode:function(e){alert("Browser not supported(do something else here!): "+e)}})}function i(e,t,n,i,r){function s(e){l.val(e.x),d.val(e.y),f.val(e.w),h.val(e.h)}var c,u=n.find('[data-role="path"]'),l=n.find('[data-role="size-x"]'),d=n.find('[data-role="size-y"]'),f=n.find('[data-role="size-width"]'),h=n.find('[data-role="size-height"]');o(e,function(e){console.log(e),t.attr("src",e.url).show(),u.val(e.imagePath),i.show(),r.show(),t.Jcrop({onSelect:s,onChange:s,onRelease:function(){s({x:0,y:0,w:0,h:0})},aspectRatio:1},function(){c=this,console.log(c)})}),this.bindEvent=function(){r.on("click",function(){"object"==typeof c&&c.release()}),i.on("click",function(){return""==u.val()||""==l.val()||""==d.val()||""==f.val()||""==h.val()?(a.dialog.alert("请选中一块区域"),!1):!i._lock&&(i._lock=!0,void a.request("user.changeAvatar",{},n.serialize(),{success:function(e){0==e.code?(a.dialog.msg(e.message),setTimeout(function(){location.reload()},2e3)):a.dialog.alert(e.message),i._lock=!1}}))})},this.bindEvent()}var a=n(3);n(58);n(61);n(59);e.exports=i},44:function(e,t,n){"use strict";(function(e){n(1),n(7),new(n(22))(e("#file-upload-area"),e("#avatar-crop-area"),e("#parameter-form"),e("#save"),e("#cancel"))}).call(t,n(0))},58:function(e,t,n){(function(e){!function(e){e.Jcrop=function(t,n){function o(e){return Math.round(e)+"px"}function i(e){return E.baseClass+"-"+e}function a(){return e.fx.step.hasOwnProperty("backgroundColor")}function r(t){var n=e(t).offset();return[n.left,n.top]}function s(e){return[e.pageX-A[0],e.pageY-A[1]]}function c(t){"object"!=typeof t&&(t={}),E=e.extend(E,t),e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){"function"!=typeof E[t]&&(E[t]=function(){})})}function u(e,t,n){if(A=r(K),pe.setCursor("move"===e?e:e+"-resize"),"move"===e)return pe.activateHandlers(d(t),v,n);var o=de.getFixed(),i=f(e),a=de.getCorner(f(i));de.setPressed(de.getCorner(i)),de.setCurrent(a),pe.activateHandlers(l(e,o),v,n)}function l(e,t){return function(n){if(E.aspectRatio)switch(e){case"e":case"w":n[1]=t.y+1;break;case"n":n[0]=t.x+1;break;case"s":n[0]=t.x+1}else switch(e){case"e":case"w":n[1]=t.y2;break;case"n":n[0]=t.x2;break;case"s":n[0]=t.x2}de.setCurrent(n),he.update()}}function d(e){var t=e;return ge.watchKeys(),function(e){de.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,he.update()}}function f(e){switch(e){case"n":return"sw";case"s":case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function h(e){return function(t){return!E.disabled&&(!("move"===e&&!E.allowMove)&&(A=r(K),oe=!0,u(e,s(t)),t.stopPropagation(),t.preventDefault(),!1))}}function p(e,t,n){var o=e.width(),i=e.height();o>t&&t>0&&(o=t,i=t/e.width()*e.height()),i>n&&n>0&&(i=n,o=n/e.height()*e.width()),te=e.width()/o,ne=e.height()/i,e.width(o).height(i)}function g(e){return{x:e.x*te,y:e.y*ne,x2:e.x2*te,y2:e.y2*ne,w:e.w*te,h:e.h*ne}}function v(e){var t=de.getFixed();t.w>E.minSelect[0]&&t.h>E.minSelect[1]?(he.enableHandles(),he.done()):he.release(),pe.setCursor(E.allowSelect?"crosshair":"default")}function m(e){if(E.disabled)return!1;if(!E.allowSelect)return!1;oe=!0,A=r(K),he.disableHandles(),pe.setCursor("crosshair");var t=s(e);return de.setPressed(t),he.update(),pe.activateHandlers(b,v,"touch"===e.type.substring(0,5)),ge.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function b(e){de.setCurrent(e),he.update()}function w(){var t=e("<div></div>").addClass(i("tracker"));return B&&t.css({opacity:0,backgroundColor:"white"}),t}function y(e){W.removeClass().addClass(i("holder")).addClass(e)}function x(e,t){function n(){window.setTimeout(b,d)}var o=e[0]/te,i=e[1]/ne,a=e[2]/te,r=e[3]/ne;if(!ie){var s=de.flipCoords(o,i,a,r),c=de.getFixed(),u=[c.x,c.y,c.x2,c.y2],l=u,d=E.animationDelay,f=s[0]-u[0],h=s[1]-u[1],p=s[2]-u[2],g=s[3]-u[3],v=0,m=E.swingSpeed;o=l[0],i=l[1],a=l[2],r=l[3],he.animMode(!0);var b=function(){return function(){v+=(100-v)/m,l[0]=Math.round(o+v/100*f),l[1]=Math.round(i+v/100*h),l[2]=Math.round(a+v/100*p),l[3]=Math.round(r+v/100*g),v>=99.8&&(v=100),v<100?(S(l),n()):(he.done(),he.animMode(!1),"function"==typeof t&&t.call(ve))}}();n()}}function C(e){S([e[0]/te,e[1]/ne,e[2]/te,e[3]/ne]),E.onSelect.call(ve,g(de.getFixed())),he.enableHandles()}function S(e){de.setPressed([e[0],e[1]]),de.setCurrent([e[2],e[3]]),he.update()}function k(){return g(de.getFixed())}function F(){return de.getFixed()}function z(e){c(e),q()}function M(){E.disabled=!0,he.disableHandles(),he.setCursor("default"),pe.setCursor("default")}function P(){E.disabled=!1,q()}function O(){he.done(),pe.activateHandlers(null,null)}function D(){W.remove(),R.show(),R.css("visibility","visible"),e(t).removeData("Jcrop")}function T(e,t){he.release(),M();var n=new Image;n.onload=function(){var o=n.width,i=n.height,a=E.boxWidth,r=E.boxHeight;K.width(o).height(i),K.attr("src",e),Y.attr("src",e),p(K,a,r),L=K.width(),N=K.height(),Y.width(L).height(N),se.width(L+2*re).height(N+2*re),W.width(L).height(N),fe.resize(L,N),P(),"function"==typeof t&&t.call(ve)},n.src=e}function j(e,t,n){var o=t||E.bgColor;E.bgFade&&a()&&E.fadeTime&&!n?e.animate({backgroundColor:o},{queue:!1,duration:E.fadeTime}):e.css("backgroundColor",o)}function q(e){E.allowResize?e?he.enableOnly():he.enableHandles():he.disableHandles(),pe.setCursor(E.allowSelect?"crosshair":"default"),he.setCursor(E.allowMove?"move":"default"),E.hasOwnProperty("trueSize")&&(te=E.trueSize[0]/L,ne=E.trueSize[1]/N),E.hasOwnProperty("setSelect")&&(C(E.setSelect),he.done(),delete E.setSelect),fe.refresh(),E.bgColor!=ce&&(j(E.shade?fe.getShades():W,E.shade?E.shadeColor||E.bgColor:E.bgColor),ce=E.bgColor),ue!=E.bgOpacity&&(ue=E.bgOpacity,E.shade?fe.refresh():he.setBgOpacity(ue)),V=E.maxSize[0]||0,$=E.maxSize[1]||0,Z=E.minSize[0]||0,ee=E.minSize[1]||0,E.hasOwnProperty("outerImage")&&(K.attr("src",E.outerImage),delete E.outerImage),he.refresh()}var A,E=e.extend({},e.Jcrop.defaults),I=navigator.userAgent.toLowerCase(),B=/msie/.test(I),_=/msie [1-6]\./.test(I);"object"!=typeof t&&(t=e(t)[0]),"object"!=typeof n&&(n={}),c(n);var H={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},R=e(t),U=!0;if("IMG"==t.tagName){if(0!=R[0].width&&0!=R[0].height)R.width(R[0].width),R.height(R[0].height);else{var J=new Image;J.src=R[0].src,R.width(J.width),R.height(J.height)}var K=R.clone().removeAttr("id").css(H).show();K.width(R.width()),K.height(R.height()),R.after(K).hide()}else K=R.css(H).show(),U=!1,null===E.shade&&(E.shade=!0);p(K,E.boxWidth,E.boxHeight);var L=K.width(),N=K.height(),W=e("<div />").width(L).height(N).addClass(i("holder")).css({position:"relative",backgroundColor:E.bgColor}).insertAfter(R).append(K);E.addClass&&W.addClass(E.addClass);var Y=e("<div />"),Q=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),X=e("<div />").width("100%").height("100%").css("zIndex",320),G=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=de.getFixed();E.onDblClick.call(ve,e)}).insertBefore(K).append(Q,X);U&&(Y=e("<img />").attr("src",K.attr("src")).css(H).width(L).height(N),Q.append(Y)),_&&G.css({overflowY:"hidden"});var V,$,Z,ee,te,ne,oe,ie,ae,re=E.boundary,se=w().width(L+2*re).height(N+2*re).css({position:"absolute",top:o(-re),left:o(-re),zIndex:290}).mousedown(m),ce=E.bgColor,ue=E.bgOpacity;A=r(K);var le=function(){function e(){var e,t={},n=["touchstart","touchmove","touchend"],o=document.createElement("div");try{for(e=0;e<n.length;e++){var i=n[e];i="on"+i;var a=i in o;a||(o.setAttribute(i,"return;"),a="function"==typeof o[i]),t[n[e]]=a}return t.touchstart&&t.touchend&&t.touchmove}catch(e){return!1}}return{createDragger:function(e){return function(t){return!E.disabled&&(!("move"===e&&!E.allowMove)&&(A=r(K),oe=!0,u(e,s(le.cfilter(t)),!0),t.stopPropagation(),t.preventDefault(),!1))}},newSelection:function(e){return m(le.cfilter(e))},cfilter:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e},isSupported:e,support:function(){return!0===E.touchSupport||!1===E.touchSupport?E.touchSupport:e()}()}}(),de=function(){function e(e){e=r(e),p=f=e[0],g=h=e[1]}function t(e){e=r(e),l=e[0]-p,d=e[1]-g,p=e[0],g=e[1]}function n(){return[l,d]}function o(e){var t=e[0],n=e[1];0>f+t&&(t-=t+f),0>h+n&&(n-=n+h),N<g+n&&(n+=N-(g+n)),L<p+t&&(t+=L-(p+t)),f+=t,p+=t,h+=n,g+=n}function i(e){var t=a();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function a(){if(!E.aspectRatio)return c();var e,t,n,o,i=E.aspectRatio,a=E.minSize[0]/te,r=E.maxSize[0]/te,l=E.maxSize[1]/ne,d=p-f,v=g-h,m=Math.abs(d),b=Math.abs(v),w=m/b;return 0===r&&(r=10*L),0===l&&(l=10*N),w<i?(t=g,n=b*i,e=d<0?f-n:n+f,e<0?(e=0,o=Math.abs((e-f)/i),t=v<0?h-o:o+h):e>L&&(e=L,o=Math.abs((e-f)/i),t=v<0?h-o:o+h)):(e=p,o=m/i,t=v<0?h-o:h+o,t<0?(t=0,n=Math.abs((t-h)*i),e=d<0?f-n:n+f):t>N&&(t=N,n=Math.abs(t-h)*i,e=d<0?f-n:n+f)),e>f?(e-f<a?e=f+a:e-f>r&&(e=f+r),t=t>h?h+(e-f)/i:h-(e-f)/i):e<f&&(f-e<a?e=f-a:f-e>r&&(e=f-r),t=t>h?h+(f-e)/i:h-(f-e)/i),e<0?(f-=e,e=0):e>L&&(f-=e-L,e=L),t<0?(h-=t,t=0):t>N&&(h-=t-N,t=N),u(s(f,h,e,t))}function r(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>L&&(e[0]=L),e[1]>N&&(e[1]=N),[Math.round(e[0]),Math.round(e[1])]}function s(e,t,n,o){var i=e,a=n,r=t,s=o;return n<e&&(i=n,a=e),o<t&&(r=o,s=t),[i,r,a,s]}function c(){var e,t=p-f,n=g-h;return V&&Math.abs(t)>V&&(p=t>0?f+V:f-V),$&&Math.abs(n)>$&&(g=n>0?h+$:h-$),ee/ne&&Math.abs(n)<ee/ne&&(g=n>0?h+ee/ne:h-ee/ne),Z/te&&Math.abs(t)<Z/te&&(p=t>0?f+Z/te:f-Z/te),f<0&&(p-=f,f-=f),h<0&&(g-=h,h-=h),p<0&&(f-=p,p-=p),g<0&&(h-=g,g-=g),p>L&&(e=p-L,f-=e,p-=e),g>N&&(e=g-N,h-=e,g-=e),f>L&&(e=f-N,g-=e,h-=e),h>N&&(e=h-N,g-=e,h-=e),u(s(f,h,p,g))}function u(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var l,d,f=0,h=0,p=0,g=0;return{flipCoords:s,setPressed:e,setCurrent:t,getOffset:n,moveOffset:o,getCorner:i,getFixed:a}}(),fe=function(){function t(e,t){p.left.css({height:o(t)}),p.right.css({height:o(t)})}function n(){return i(de.getFixed())}function i(e){p.top.css({left:o(e.x),width:o(e.w),height:o(e.y)}),p.bottom.css({top:o(e.y2),left:o(e.x),width:o(e.w),height:o(N-e.y2)}),p.right.css({left:o(e.x2),width:o(L-e.x2)}),p.left.css({width:o(e.x)})}function a(){return e("<div />").css({position:"absolute",backgroundColor:E.shadeColor||E.bgColor}).appendTo(h)}function r(){f||(f=!0,h.insertBefore(K),n(),he.setBgOpacity(1,0,1),Y.hide(),s(E.shadeColor||E.bgColor,1),he.isAwake()?u(E.bgOpacity,1):u(1,1))}function s(e,t){j(d(),e,t)}function c(){f&&(h.remove(),Y.show(),f=!1,he.isAwake()?he.setBgOpacity(E.bgOpacity,1,1):(he.setBgOpacity(1,1,1),he.disableHandles()),j(W,0,1))}function u(e,t){f&&(E.bgFade&&!t?h.animate({opacity:1-e},{queue:!1,duration:E.fadeTime}):h.css({opacity:1-e}))}function l(){E.shade?r():c(),he.isAwake()&&u(E.bgOpacity)}function d(){return h.children()}var f=!1,h=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),p={top:a(),left:a().height(N),right:a().height(N),bottom:a()};return{update:n,updateRaw:i,getShades:d,setBgColor:s,enable:r,disable:c,resize:t,refresh:l,opacity:u}}(),he=function(){function t(t){var n=e("<div />").css({position:"absolute",opacity:E.borderOpacity}).addClass(i(t));return Q.append(n),n}function n(t,n){var o=e("<div />").mousedown(h(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+t);return le.support&&o.bind("touchstart.jcrop",le.createDragger(t)),X.append(o),o}function a(e){var t=E.handleSize,o=n(e,k++).css({opacity:E.handleOpacity}).addClass(i("handle"));return t&&o.width(t).height(t),o}function r(e){return n(e,k++).addClass("jcrop-dragbar")}function s(e,t){E.shade||Y.css({top:o(-t),left:o(-e)}),G.css({top:o(t),left:o(e)})}function c(e,t){G.width(Math.round(e)).height(Math.round(t))}function u(){var e=de.getFixed();de.setPressed([e.x,e.y]),de.setCurrent([e.x2,e.y2]),l()}function l(e){if(S)return d(e)}function d(e){var t=de.getFixed();c(t.w,t.h),s(t.x,t.y),E.shade&&fe.updateRaw(t),S||p(),e?E.onSelect.call(ve,g(t)):E.onChange.call(ve,g(t))}function f(e,t,n){(S||t)&&(E.bgFade&&!n?K.animate({opacity:e},{queue:!1,duration:E.fadeTime}):K.css("opacity",e))}function p(){G.show(),E.shade?fe.opacity(ue):f(ue,!0),S=!0}function v(){y(),G.hide(),E.shade?fe.opacity(1):f(1),S=!1,E.onRelease.call(ve)}function m(){P&&X.show()}function b(){if(P=!0,E.allowResize)return X.show(),!0}function y(){P=!1,X.hide()}function x(e){e?(ie=!0,y()):(ie=!1,b())}function C(){x(!1),u()}var S,k=370,F={},z={},M={},P=!1;E.dragEdges&&e.isArray(E.createDragbars)&&function(e){var t;for(t=0;t<e.length;t++)M[e[t]]=r(e[t])}(E.createDragbars),e.isArray(E.createHandles)&&function(e){var t;for(t=0;t<e.length;t++)z[e[t]]=a(e[t])}(E.createHandles),E.drawBorders&&e.isArray(E.createBorders)&&function(e){var n,o;for(o=0;o<e.length;o++){switch(e[o]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}F[e[o]]=t(n)}}(E.createBorders),e(document).bind("touchstart.jcrop-ios",function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()});var O=w().mousedown(h("move")).css({cursor:"move",position:"absolute",zIndex:360});return le.support&&O.bind("touchstart.jcrop",le.createDragger("move")),Q.append(O),y(),{updateVisible:l,update:d,release:v,refresh:u,isAwake:function(){return S},setCursor:function(e){O.css("cursor",e)},enableHandles:b,enableOnly:function(){P=!0},showHandles:m,disableHandles:y,animMode:x,setBgOpacity:f,done:C}}(),pe=function(){function t(t){se.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",r).bind("touchend.jcrop",c):f&&e(document).bind("mousemove.jcrop",o).bind("mouseup.jcrop",i)}function n(){se.css({zIndex:290}),e(document).unbind(".jcrop")}function o(e){return l(s(e)),!1}function i(e){return e.preventDefault(),e.stopPropagation(),oe&&(oe=!1,d(s(e)),he.isAwake()&&E.onSelect.call(ve,g(de.getFixed())),n(),l=function(){},d=function(){}),!1}function a(e,n,o){return oe=!0,l=e,d=n,t(o),!1}function r(e){return l(s(le.cfilter(e))),!1}function c(e){return i(le.cfilter(e))}function u(e){se.css("cursor",e)}var l=function(){},d=function(){},f=E.trackDocument;return f||se.mousemove(o).mouseup(i).mouseout(i),K.before(se),{activateHandlers:a,setCursor:u}}(),ge=function(){function t(){E.keySupport&&(a.show(),a.focus())}function n(e){a.hide()}function o(e,t,n){E.allowMove&&(de.moveOffset([t,n]),he.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}function i(e){if(e.ctrlKey||e.metaKey)return!0;ae=!!e.shiftKey;var t=ae?10:1;switch(e.keyCode){case 37:o(e,-t,0);break;case 39:o(e,t,0);break;case 38:o(e,0,-t);break;case 40:o(e,0,t);break;case 27:E.allowSelect&&he.release();break;case 9:return!0}return!1}var a=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),r=e("<div />").css({position:"absolute",overflow:"hidden"}).append(a);return E.keySupport&&(a.keydown(i).blur(n),_||!E.fixedSupport?(a.css({position:"absolute",left:"-20px"}),r.append(a).insertBefore(K)):a.insertBefore(K)),{watchKeys:t}}();le.support&&se.bind("touchstart.jcrop",le.newSelection),X.hide(),q(!0);var ve={setImage:T,animateTo:x,setSelect:C,setOptions:z,tellSelect:k,tellScaled:F,setClass:y,disable:M,enable:P,cancel:O,release:he.release,destroy:D,focus:ge.watchKeys,getBounds:function(){return[L*te,N*ne]},getWidgetSize:function(){return[L,N]},getScaleFactor:function(){return[te,ne]},getOptions:function(){return E},ui:{holder:W,selection:G}};return B&&W.bind("selectstart",function(){return!1}),R.data("Jcrop",ve),ve},e.fn.Jcrop=function(t,n){var o;return this.each(function(){if(e(this).data("Jcrop")){if("api"===t)return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else"IMG"==this.tagName?e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"}),o=e.Jcrop(this,t),e.isFunction(n)&&n.call(o)}):(e(this).css({display:"block",visibility:"hidden"}),o=e.Jcrop(this,t),e.isFunction(n)&&n.call(o))}),this},e.Jcrop.Loader=function(t,n,o){function i(){r.complete?(a.unbind(".jcloader"),e.isFunction(n)&&n.call(r)):window.setTimeout(i,50)}var a=e(t),r=a[0];a.bind("load.jcloader",i).bind("error.jcloader",function(t){a.unbind(".jcloader"),e.isFunction(o)&&o.call(r)}),r.complete&&e.isFunction(n)&&(a.unbind(".jcloader"),n.call(r))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(e)}).call(t,n(0))},59:function(t,n,o){(function(t){!function(t){var n="dmUploader",o={url:document.URL,method:"POST",extraData:{},maxFileSize:0,allowedTypes:"*",extFilter:null,dataType:null,fileName:"file",onInit:function(){},onFallbackMode:function(){message},onNewFile:function(e,t){},onBeforeUpload:function(e){},onComplete:function(){},onUploadProgress:function(e,t){},onUploadSuccess:function(e,t){},onUploadError:function(e,t){},onFileTypeError:function(e){},onFileSizeError:function(e){},onFileExtError:function(e){}},i=function(e,n){return this.element=t(e),this.settings=t.extend({},o,n),!!this.checkBrowser()&&(this.init(),!0)};i.prototype.checkBrowser=function(){return void 0===window.FormData?(this.settings.onFallbackMode.call(this.element,"Browser doesn't support Form API"),!1):this.element.find("input[type=file]").length>0||(!(!this.checkEvent("drop",this.element)||!this.checkEvent("dragstart",this.element))||(this.settings.onFallbackMode.call(this.element,"Browser doesn't support Ajax Drag and Drop"),!1))},i.prototype.checkEvent=function(e,t){var t=t||document.createElement("div"),e="on"+e,n=e in t;return n||(t.setAttribute||(t=document.createElement("div")),t.setAttribute&&t.removeAttribute&&(t.setAttribute(e,""),n="function"==typeof t[e],void 0!==t[e]&&(t[e]=void 0),t.removeAttribute(e))),t=null,n},i.prototype.init=function(){var e=this;e.queue=new Array,e.queuePos=-1,e.queueRunning=!1,e.element.on("drop",function(t){t.preventDefault();var n=t.originalEvent.dataTransfer.files;e.queueFiles(n)}),e.element.find("input[type=file]").on("change",function(n){var o=n.target.files;e.queueFiles(o),t(this).val("")}),this.settings.onInit.call(this.element)},i.prototype.queueFiles=function(e){for(var n=this.queue.length,o=0;o<e.length;o++){var i=e[o];if(this.settings.maxFileSize>0&&i.size>this.settings.maxFileSize)this.settings.onFileSizeError.call(this.element,i);else if("*"==this.settings.allowedTypes||i.type.match(this.settings.allowedTypes)){if(null!=this.settings.extFilter){var a=this.settings.extFilter.toLowerCase().split(";"),r=i.name.toLowerCase().split(".").pop();if(t.inArray(r,a)<0){this.settings.onFileExtError.call(this.element,i);continue}}this.queue.push(i);var s=this.queue.length-1;this.settings.onNewFile.call(this.element,s,i)}else this.settings.onFileTypeError.call(this.element,i)}return!this.queueRunning&&(this.queue.length!=n&&(this.processQueue(),!0))},i.prototype.processQueue=function(){var n=this;if(++n.queuePos>=n.queue.length)return n.settings.onComplete.call(n.element),n.queuePos=n.queue.length-1,void(n.queueRunning=!1);var o=n.queue[n.queuePos],i=new FormData;i.append(n.settings.fileName,o),n.settings.onBeforeUpload.call(n.element,n.queuePos),t.each(n.settings.extraData,function(e,t){i.append(e,t)}),n.queueRunning=!0,t.ajax({url:n.settings.url,type:n.settings.method,dataType:n.settings.dataType,data:i,cache:!1,contentType:!1,processData:!1,forceSync:!1,xhr:function(){var o=t.ajaxSettings.xhr();return o.upload&&o.upload.addEventListener("progress",function(t){var o=0,i=t.loaded||t.position,a=t.total||e.totalSize;t.lengthComputable&&(o=Math.ceil(i/a*100)),n.settings.onUploadProgress.call(n.element,n.queuePos,o)},!1),o},success:function(e,t,o){n.settings.onUploadSuccess.call(n.element,n.queuePos,e)},error:function(e,t,o){n.settings.onUploadError.call(n.element,n.queuePos,o)},complete:function(e,t){n.processQueue()}})},t.fn.dmUploader=function(e){return this.each(function(){t.data(this,n)||t.data(this,n,new i(this,e))})},t(document).on("dragenter",function(e){e.stopPropagation(),e.preventDefault()}),t(document).on("dragover",function(e){e.stopPropagation(),e.preventDefault()}),t(document).on("drop",function(e){e.stopPropagation(),e.preventDefault()})}(t)}).call(n,o(0))},61:function(e,t){},7:function(e,t,n){(function(e){!function(e){function t(t,n){a=!0,e.ajax({type:"get",url:t,data:{pageId:n},complete:function(e){o.html(e.responseText),history.pushState(null,"",t),a=!1}})}var n=e(document),o=(e("#content"),e("#ucenter_tips"),e("#ucenter_nav"),e("#ucenter_page"),e("#ucenter_page_content")),i=e("#ucenter_loading"),a=!1,r=1;n.on("click","a[data-page2]",function(){if(a)return!1;o.html(i.clone().removeAttr("id").fadeIn());var n=e(this).data("page"),r=e(this).attr("href");return e(this).parents("ul").find("a").removeClass("active"),e(this).addClass("active"),t(r,n),!1}).on("click","#pagination a",function(n){if(a)return!1;o.html(i.clone().removeAttr("id").fadeIn());var r=e(this).data("page");return t(e(this).attr("href"),r),!1}).on("click","#get_next, #get_prev, #get_news, #get_message",function(){if(a)return!1;switch(o.html(i.clone().removeAttr("id").fadeIn()),r=parseInt(r),e(this).attr("id")){case"get_news":r="news";break;case"get_next":r++;break;case"get_prev":r--;break;default:r=1}return t(),!1}).on("click","#more_form-toggle",function(){return e("#more_form").fadeToggle(),!1}).on("submit","#profile",function(){e(this).find("[type=submit]").button("loading")}).on("click","#destroy_other_sessions",function(){if(!e(this).hasClass("disabled")){var t=e(this).button("loading");return e.ajax({type:"POST",url:dmeng.ajaxurl,data:{action:"dmeng_destroy_other_sessions"},complete:function(e){t.html(e.responseText),dmeng.getUcenterPage()}}),!1}})}(e)}).call(t,n(0))}},[44]);